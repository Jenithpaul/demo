(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1214:(e,r,s)=>{Promise.resolve().then(s.bind(s,1667))},1667:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(5155),a=s(2115),o=s(6874),l=s.n(o),n=s(5695),i=s(3761),c=s(6203),d=s(7227);let u=(0,c.xI)(d.A);function m(){let[e,r]=(0,a.useState)(!0),[s,o]=(0,a.useState)({email:"",password:"",confirmPassword:""}),[d,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[w,f]=(0,a.useState)(!1),y=(0,n.useRouter)(),{login:v,register:j}=(0,i.A)(),b=async()=>{try{x(!0);let e=new c.HF;(await (0,c.df)(u,e)).user&&y.push("/")}catch(e){m(e.message)}finally{x(!1)}},N=async r=>{r.preventDefault(),m(""),x(!0);try{if(e)await v(s.email,s.password),y.push("/");else{if(s.password!==s.confirmPassword)return void m("Passwords do not match");await j(s.email,s.password),y.push("/")}}catch(e){m(e.message)}finally{x(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center p-4",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:e?"Welcome Back":"Create Account"}),(0,t.jsx)(l(),{href:"/",className:"text-gray-600 hover:text-gray-900",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("button",{onClick:b,disabled:h,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 bg-white hover:bg-gray-50 transition-all duration-300 mb-6",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,t.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,t.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,t.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),(0,t.jsx)("span",{className:"font-medium",children:"Continue with Google"})]}),(0,t.jsxs)("div",{className:"relative flex items-center justify-center mb-6",children:[(0,t.jsx)("div",{className:"border-t border-gray-300 absolute w-full"}),(0,t.jsx)("span",{className:"bg-white px-4 text-gray-500 text-sm relative",children:"or"})]}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",value:s.email,onChange:e=>o({...s,email:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-300",placeholder:"Enter your email",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:p?"text":"password",id:"password",value:s.password,onChange:e=>o({...s,password:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-300",placeholder:"Enter your password",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:p?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),!e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:w?"text":"password",id:"confirmPassword",value:s.confirmPassword,onChange:e=>o({...s,confirmPassword:e.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-300",placeholder:"Confirm your password",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>f(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:w?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),d&&(0,t.jsx)("div",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg",children:d}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-black text-white py-3 rounded-xl font-semibold hover:bg-gray-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):e?"Sign In":"Create Account"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)("button",{onClick:()=>{r(!e),m(""),o({email:"",password:"",confirmPassword:""})},className:"text-gray-600 hover:text-gray-900 font-medium",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})})})}},3761:(e,r,s)=>{"use strict";s.d(r,{A:()=>m,AuthProvider:()=>u,O:()=>h});var t=s(5155),a=s(2115),o=s(5695),l=s(5317),n=s(6203),i=s(7227);let c=(0,a.createContext)(),d=["jenithpaul66@gmail.com","rakeshchoudhary6321@gmail.com"];function u(e){let{children:r}=e,[s,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0),x=(0,o.useRouter)(),p=(0,l.aU)(i.A),g=(0,n.xI)(i.A),w=async()=>{try{let e=(0,l.rJ)(p,"adminUsers"),r=(0,l.P)(e);if((await (0,l.GG)(r)).empty){for(let r of d)await (0,l.gS)(e,{email:r});console.log("Admin users initialized")}}catch(e){console.error("Error initializing admin users:",e)}};(0,a.useEffect)(()=>{w();let e=g.onAuthStateChanged(async e=>{if(e){let r=await f(e.email),s={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,role:r?"admin":"user"};u(s),localStorage.setItem("user",JSON.stringify(s)),r||x.push("/")}else u(null),localStorage.removeItem("user");h(!1)});return()=>e()},[]);let f=async e=>{try{if(d.includes(e))return!0;let r=(0,l.rJ)(p,"adminUsers"),s=(0,l.P)(r,(0,l._M)("email","==",e));return!(await (0,l.GG)(s)).empty}catch(e){return console.error("Error checking admin access:",e),!1}},y=async(e,r)=>{try{if(await f(e)){let r={email:e,displayName:"Admin User",role:"admin"};return u(r),localStorage.setItem("user",JSON.stringify(r)),x.push("/admin"),!0}return!1}catch(e){return console.error("Login error:",e),!1}},v=async()=>{try{let e=new n.HF,r=await (0,n.df)(g,e);if(!await f(r.user.email))return await (0,n.CI)(g),u(null),localStorage.removeItem("user"),!1;{let e={uid:r.user.uid,email:r.user.email,displayName:r.user.displayName,photoURL:r.user.photoURL,role:"admin"};return u(e),localStorage.setItem("user",JSON.stringify(e)),x.push("/admin"),!0}}catch(e){return console.error("Google login error:",e),!1}},j=async()=>{try{await (0,n.CI)(g),u(null),localStorage.removeItem("user"),x.push("/")}catch(e){console.error("Logout error:",e)}};return(0,t.jsx)(c.Provider,{value:{user:s,setUser:u,login:y,loginWithGoogle:v,logout:j,loading:m},children:!m&&r})}function m(){let e=(0,a.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function h(e){let{children:r}=e,{user:s,loading:l}=m(),n=(0,o.useRouter)();return((0,a.useEffect)(()=>{l||s&&"admin"===s.role||n.push("/login")},[s,l,n]),l)?(0,t.jsx)("div",{children:"Loading..."}):s&&"admin"===s.role?r:null}},7227:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(3915).Wp)({apiKey:"AIzaSyCvcy_H0WmnKLnTPMnl_gcX96IArDjUvG8",authDomain:"wood-ply-5467f.firebaseapp.com",projectId:"wood-ply-5467f",storageBucket:"wood-ply-5467f.appspot.com",messagingSenderId:"11936944340",appId:"1:11936944340:web:d723588893d69d5dfb2b41"})}},e=>{var r=r=>e(e.s=r);e.O(0,[992,163,75,874,441,684,358],()=>r(1214)),_N_E=e.O()}]);