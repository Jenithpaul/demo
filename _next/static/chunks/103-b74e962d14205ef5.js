"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[103],{858:(e,r,n)=>{n.d(r,{qk:()=>ev,c7:()=>eU,KR:()=>ey,bp:()=>eA});var i,s,o=n(2612),a=n(9887),l=n(6391);let f="firebasestorage.googleapis.com",u="storageBucket";class h extends a.g{constructor(e,r,n=0){super(c(e),`Firebase Storage: ${r} (${c(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,h.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return c(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function c(e){return"storage/"+e}function d(){return new h(i.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new h(i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function g(){return new h(i.CANCELED,"User canceled the upload/download.")}function _(){return new h(i.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function m(e){return new h(i.INVALID_ARGUMENT,e)}function b(){return new h(i.APP_DELETED,"The Firebase app was deleted.")}function w(e,r){return new h(i.INVALID_FORMAT,"String does not match format '"+e+"': "+r)}function A(e){throw new h(i.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(i||(i={}));class v{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=v.makeFromUrl(e,r)}catch(r){return new v(e,"")}if(""===n.path)return n;throw new h(i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,r){let n=null,s="([A-Za-z0-9.\\-_]+)",o=RegExp("^gs://"+s+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}let l=r.replace(/[.]/g,"\\."),u=RegExp(`^https?://${l}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),c=r===f?"(?:storage.googleapis.com|storage.cloud.google.com)":r,d=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:u,indices:{bucket:1,path:3},postModify:a},{regex:RegExp(`^https?://${c}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let r=0;r<d.length;r++){let i=d[r],s=i.regex.exec(e);if(s){let e=s[i.indices.bucket],r=s[i.indices.path];r||(r=""),n=new v(e,r),i.postModify(n);break}}if(null==n)throw new h(i.INVALID_URL,"Invalid URL '"+e+"'.");return n}}class y{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function U(e){return"string"==typeof e||e instanceof String}function E(e){return T()&&e instanceof Blob}function T(){return"undefined"!=typeof Blob}function R(e,r,n,i){if(i<r)throw m(`Invalid value for '${e}'. Expected ${r} or greater.`);if(i>n)throw m(`Invalid value for '${e}'. Expected ${n} or less.`)}function x(e,r,n){let i=r;return null==n&&(i=`https://${r}`),`${n}://${i}/v0${e}`}function C(e){let r=encodeURIComponent,n="?";for(let i in e)e.hasOwnProperty(i)&&(n=n+(r(i)+"=")+r(e[i])+"&");return n.slice(0,-1)}function k(e,r){let n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==r.indexOf(e);return n||i||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(s||(s={}));class F{constructor(e,r,n,i,s,o,a,l,f,u,h,c=!0,d=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=f,this.progressCallback_=u,this.connectionFactory_=h,this.retry=c,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,r)=>{this.resolve_=e,this.reject_=r,this.start_()})}start_(){let e=(e,r)=>{let n=this.resolve_,i=this.reject_,s=r.connection;if(r.wasSuccessCode)try{let e=this.callback_(s,s.getResponse());void 0!==e?n(e):n()}catch(e){i(e)}else if(null!==s){let e=d();e.serverResponse=s.getErrorText(),i(this.errorCallback_?this.errorCallback_(s,e):e)}else i(r.canceled?this.appDelete_?b():g():p())};this.canceled_?e(!1,new I(!1,null,!0)):this.backoffId_=function(e,r,n){let i=1,s=null,o=null,a=!1,l=0,f=!1;function u(...e){f||(f=!0,r.apply(null,e))}function h(r){s=setTimeout(()=>{s=null,e(d,2===l)},r)}function c(){o&&clearTimeout(o)}function d(e,...r){let n;if(f)return void c();if(e||2===l||a){c(),u.call(null,e,...r);return}i<64&&(i*=2),1===l?(l=2,n=0):n=(i+Math.random())*1e3,h(n)}let p=!1;function g(e){p||(p=!0,c(),!f&&(null!==s?(e||(l=2),clearTimeout(s),h(0)):e||(l=1)))}return h(0),o=setTimeout(()=>{a=!0,g(!0)},n),g}((e,r)=>{if(r)return void e(!1,new I(!1,null,!0));let n=this.connectionFactory_();this.pendingConnection_=n;let i=e=>{let r=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(r,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;let r=n.getErrorCode()===s.NO_ERROR,o=n.getStatus();if(!r||k(o,this.additionalRetryCodes_)&&this.retry)return void e(!1,new I(!1,null,n.getErrorCode()===s.ABORT));e(!0,new I(-1!==this.successCodes_.indexOf(o),n))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class I{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function O(...e){let r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==r){let n=new r;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}if(T())return new Blob(e);throw new h(i.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}let S={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class B{constructor(e,r){this.data=e,this.contentType=r||null}}function N(e){let r=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<=127?r.push(i):i<=2047?r.push(192|i>>6,128|63&i):(64512&i)==55296?n<e.length-1&&(64512&e.charCodeAt(n+1))==56320?(i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),r.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):r.push(239,191,189):(64512&i)==56320?r.push(239,191,189):r.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(r)}function P(e,r){let n;switch(e){case S.BASE64:{let n=-1!==r.indexOf("-"),i=-1!==r.indexOf("_");if(n||i)throw w(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case S.BASE64URL:{let n=-1!==r.indexOf("+"),i=-1!==r.indexOf("/");if(n||i)throw w(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/")}}try{n=function(e){if("undefined"==typeof atob)throw new h(i.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(r)}catch(r){if(r.message.includes("polyfill"))throw r;throw w(e,"Invalid character found")}let s=new Uint8Array(n.length);for(let e=0;e<n.length;e++)s[e]=n.charCodeAt(e);return s}class M{constructor(e){this.base64=!1,this.contentType=null;let r=e.match(/^data:([^,]+)?,/);if(null===r)throw w(S.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=r[1]||null;null!=n&&(this.base64=function(e,r){return e.length>=r.length&&e.substring(e.length-r.length)===r}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class D{constructor(e,r){let n=0,i="";E(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(!E(this.data_))return new D(new Uint8Array(this.data_.buffer,e,r-e),!0);{var n,i,s;let o=(n=this.data_,i=e,s=r,n.webkitSlice?n.webkitSlice(i,s):n.mozSlice?n.mozSlice(i,s):n.slice?n.slice(i,s):null);return null===o?null:new D(o)}}static getBlob(...e){if(T()){let r=e.map(e=>e instanceof D?e.data_:e);return new D(O.apply(null,r))}{let r=e.map(e=>U(e)?function(e,r){switch(e){case S.RAW:return new B(N(r));case S.BASE64:case S.BASE64URL:return new B(P(e,r));case S.DATA_URL:return new B(function(e){let r,n=new M(e);if(n.base64)return P(S.BASE64,n.rest);var i=n.rest;try{r=decodeURIComponent(i)}catch(e){throw w(S.DATA_URL,"Malformed data URL.")}return N(r)}(r),new M(r).contentType)}throw d()}(S.RAW,e).data:e.data_),n=0;r.forEach(e=>{n+=e.byteLength});let i=new Uint8Array(n),s=0;return r.forEach(e=>{for(let r=0;r<e.length;r++)i[s++]=e[r]}),new D(i,!0)}}uploadData(){return this.data_}}function L(e){var r;let n;try{n=JSON.parse(e)}catch(e){return null}return"object"!=typeof(r=n)||Array.isArray(r)?null:n}function H(e){let r=e.lastIndexOf("/",e.length-2);return -1===r?e:e.slice(r+1)}function z(e,r){return r}class Q{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||z}}let q=null;function j(){if(q)return q;let e=[];e.push(new Q("bucket")),e.push(new Q("generation")),e.push(new Q("metageneration")),e.push(new Q("name","fullPath",!0));let r=new Q("name");r.xform=function(e,r){return!U(r)||r.length<2?r:H(r)},e.push(r);let n=new Q("size");return n.xform=function(e,r){return void 0!==r?Number(r):r},e.push(n),e.push(new Q("timeCreated")),e.push(new Q("updated")),e.push(new Q("md5Hash",null,!0)),e.push(new Q("cacheControl",null,!0)),e.push(new Q("contentDisposition",null,!0)),e.push(new Q("contentEncoding",null,!0)),e.push(new Q("contentLanguage",null,!0)),e.push(new Q("contentType",null,!0)),e.push(new Q("metadata","customMetadata",!0)),q=e}function G(e,r,n){let i=L(r);return null===i?null:function(e,r,n){let i={};i.type="file";let s=n.length;for(let e=0;e<s;e++){let s=n[e];i[s.local]=s.xform(i,r[s.server])}return Object.defineProperty(i,"ref",{get:function(){let r=new v(i.bucket,i.fullPath);return e._makeStorageReference(r)}}),i}(e,i,n)}function W(e,r){let n={},i=r.length;for(let s=0;s<i;s++){let i=r[s];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}let X="prefixes",K="items";class V{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $(e){if(!e)throw d()}function Z(e,r){return function(n,i){let s=G(e,i,r);return $(null!==s),s}}function Y(e){return function(r,n){var s,o;let a;return 401===r.getStatus()?a=r.getErrorText().includes("Firebase App Check token is invalid")?new h(i.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new h(i.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?(s=e.bucket,a=new h(i.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===r.getStatus()?(o=e.path,a=new h(i.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}}function J(e){let r=Y(e);return function(n,s){var o;let a=r(n,s);return 404===n.getStatus()&&(o=e.path,a=new h(i.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),a.serverResponse=s.serverResponse,a}}function ee(e,r,n){let i=Object.assign({},n);return i.fullPath=e.path,i.size=r.size(),i.contentType||(i.contentType=r&&r.type()||"application/octet-stream"),i}function et(e,r,n,i,s){let o=r.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},l=function(){let e="";for(let r=0;r<2;r++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+l;let f=ee(r,i,s),u="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+W(f,n)+"\r\n--"+l+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",h=D.getBlob(u,i,"\r\n--"+l+"--");if(null===h)throw _();let c={name:f.fullPath},d=x(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new V(d,"POST",Z(e,n),p);return g.urlParams=c,g.headers=a,g.body=h.uploadData(),g.errorHandler=Y(r),g}class er{constructor(e,r,n,i){this.current=e,this.total=r,this.finalized=!!n,this.metadata=i||null}}function en(e,r){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){$(!1)}return $(!!n&&-1!==(r||["active"]).indexOf(n)),n}let ei={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function es(e){switch(e){case"running":case"pausing":case"canceling":return ei.RUNNING;case"paused":return ei.PAUSED;case"success":return ei.SUCCESS;case"canceled":return ei.CANCELED;default:return ei.ERROR}}class eo{constructor(e,r,n){"function"==typeof e||null!=r||null!=n?(this.next=e,this.error=null!=r?r:void 0,this.complete=null!=n?n:void 0):(this.next=e.next,this.error=e.error,this.complete=e.complete)}}function ea(e){return(...r)=>{Promise.resolve().then(()=>e(...r))}}class el{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,s){if(this.sent_)throw A("cannot .send() more than once");if((0,a.zJ)(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),void 0!==s)for(let e in s)s.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,s[e].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw A("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw A("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return -1}}getResponse(){if(!this.sent_)throw A("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw A("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ef extends el{initXhr(){this.xhr_.responseType="text"}}function eu(){return new ef}class eh extends null{initXhr(){this.xhr_.responseType="arraybuffer"}}class ec extends null{initXhr(){this.xhr_.responseType="blob"}}class ed{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=n,this._mappings=j(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(i.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let r=this.isExponentialBackoffExpired();if(k(e.status,[]))if(r)e=p();else{this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(i.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){let e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":e(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,r)=>{let n=function(e,r,n,i,s){let o=r.bucketOnlyServerUrl(),a=ee(r,i,s),l={name:a.fullPath},f=x(o,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=W(a,n),c=new V(f,"POST",function(e){let r;en(e);try{r=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){$(!1)}return $(U(r)),r},e.maxUploadRetryTime);return c.urlParams=l,c.headers=u,c.body=h,c.errorHandler=Y(r),c}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,eu,e,r);this._request=i,i.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((r,n)=>{let i=function(e,r,n,i){let s=new V(n,"POST",function(e){let r=en(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){$(!1)}n||$(!1);let s=Number(n);return $(!isNaN(s)),new er(s,i.size(),"final"===r)},e.maxUploadRetryTime);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Y(r),s}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,eu,r,n);this._request=s,s.getPromise().then(e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=262144*this._chunkMultiplier,r=new er(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((s,o)=>{let a;try{a=function(e,r,n,s,o,a,l,f){let u=new er(0,0);if(l?(u.current=l.current,u.total=l.total):(u.current=0,u.total=s.size()),s.size()!==u.total)throw new h(i.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");let c=u.total-u.current,d=c;o>0&&(d=Math.min(d,o));let p=u.current,g=p+d,m="",b={"X-Goog-Upload-Command":0===d?"finalize":c===d?"upload, finalize":"upload","X-Goog-Upload-Offset":`${u.current}`},w=s.slice(p,g);if(null===w)throw _();let A=new V(n,"POST",function(e,n){let i,o=en(e,["active","final"]),l=u.current+d,f=s.size();return i="final"===o?Z(r,a)(e,n):null,new er(l,f,"final"===o,i)},r.maxUploadRetryTime);return A.headers=b,A.body=w.uploadData(),A.progressCallback=f||null,A.errorHandler=Y(e),A}(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(e){this._error=e,this._transition("error");return}let l=this._ref.storage._makeRequest(a,eu,s,o,!1);this._request=l,l.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){2*(262144*this._chunkMultiplier)<0x2000000&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{let n=function(e,r,n){let i=x(r.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,o=new V(i,"GET",Z(e,n),s);return o.errorHandler=J(r),o}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,eu,e,r);this._request=i,i.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{let n=et(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,eu,e,r);this._request=i,i.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let r="paused"===this._state;this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=g(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){let e=es(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,n,i){let s=new eo(r||void 0,n||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let r=this._observers.indexOf(e);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(es(this._state)){case ei.SUCCESS:ea(this._resolve.bind(null,this.snapshot))();break;case ei.CANCELED:case ei.ERROR:ea(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(es(this._state)){case ei.RUNNING:case ei.PAUSED:e.next&&ea(e.next.bind(e,this.snapshot))();break;case ei.SUCCESS:e.complete&&ea(e.complete.bind(e))();break;case ei.CANCELED:case ei.ERROR:default:e.error&&ea(e.error.bind(e,this._error))()}}resume(){let e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){let e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){let e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ep{constructor(e,r){this._service=e,r instanceof v?this._location=r:this._location=v.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new ep(e,r)}get root(){let e=new v(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H(this._location.path)}get storage(){return this._service}get parent(){let e=function(e){if(0===e.length)return null;let r=e.lastIndexOf("/");return -1===r?"":e.slice(0,r)}(this._location.path);if(null===e)return null;let r=new v(this._location.bucket,e);return new ep(this._service,r)}_throwIfRoot(e){if(""===this._location.path)throw new h(i.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function eg(e,r){let n=null==r?void 0:r[u];return null==n?null:v.makeFromBucketSpec(n,e)}class e_{constructor(e,r,n,i,s,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=f,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=i?this._bucket=v.makeFromBucketSpec(i,this._host):this._bucket=eg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=v.makeFromBucketSpec(this._url,e):this._bucket=eg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let r=await e.getToken();if(null!==r)return r.accessToken}return null}async _getAppCheckToken(){if((0,o.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ep(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new y(b());{let o=function(e,r,n,i,s,o,a=!0,l=!1){let f=C(e.urlParams),u=e.url+f,h=Object.assign({},e.headers);return r&&(h["X-Firebase-GMPID"]=r),null!==n&&n.length>0&&(h.Authorization="Firebase "+n),h["X-Firebase-Storage-Version"]="webjs/"+(null!=o?o:"AppManager"),null!==i&&(h["X-Firebase-AppCheck"]=i),new F(u,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a,l)}(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){let[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}let em="@firebase/storage",eb="0.13.13",ew="storage";function eA(e,r,n){var i;return i=e=(0,a.Ku)(e),i._throwIfRoot("uploadBytesResumable"),new ed(i,new D(r),n)}function ev(e){var r=e=(0,a.Ku)(e);r._throwIfRoot("getDownloadURL");let n=function(e,r,n){let i=x(r.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,o=new V(i,"GET",function(r,i){let s=G(e,i,n);return $(null!==s),function(e,r,n,i){let s=L(r);if(null===s||!U(s.downloadTokens))return null;let o=s.downloadTokens;if(0===o.length)return null;let a=encodeURIComponent;return o.split(",").map(r=>{let s=e.bucket,o=e.fullPath;return x("/b/"+a(s)+"/o/"+a(o),n,i)+C({alt:"media",token:r})})[0]}(s,i,e.host,e._protocol)},s);return o.errorHandler=J(r),o}(r.storage,r._location,j());return r.storage.makeRequestWithTokens(n,eu).then(e=>{if(null===e)throw new h(i.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function ey(e,r){var n=e=(0,a.Ku)(e);if(!(r&&/^[A-Za-z]+:\/\//.test(r)))return function e(r,n){if(r instanceof e_){if(null==r._bucket)throw new h(i.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u+"' property when initializing the app?");let s=new ep(r,r._bucket);return null!=n?e(s,n):s}if(void 0!==n){var s=r,o=n;let e=function(e,r){let n=r.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(s._location.path,o),i=new v(s._location.bucket,e);return new ep(s.storage,i)}return r}(n,r);if(n instanceof e_)return new ep(n,r);throw m("To use ref(service, url), the first argument must be a Storage instance.")}function eU(e=(0,o.Sx)(),r){e=(0,a.Ku)(e);let n=(0,o.j6)(e,ew).getImmediate({identifier:r}),i=(0,a.yU)("storage");return i&&function(e,r,n,i={}){!function(e,r,n,i={}){e.host=`${r}:${n}`;let s=(0,a.zJ)(r);s&&((0,a.gE)(`https://${e.host}/b`),(0,a.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";let{mockUserToken:o}=i;o&&(e._overrideAuthToken="string"==typeof o?o:(0,a.Fy)(o,e.app.options.projectId))}(e,r,n,i)}(n,...i),n}(0,o.om)(new l.uA(ew,function(e,{instanceIdentifier:r}){let n=e.getProvider("app").getImmediate();return new e_(n,e.getProvider("auth-internal"),e.getProvider("app-check-internal"),r,o.MF)},"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(em,eb,""),(0,o.KO)(em,eb,"esm2017")},1802:(e,r,n)=>{let i;function s(e,r){return new Promise(function(n,i){let s;return o(e).then(function(e){try{return s=e,n(new Blob([r.slice(0,2),s,r.slice(2)],{type:"image/jpeg"}))}catch(e){return i(e)}},i)})}n.d(r,{A:()=>N});let o=e=>new Promise((r,n)=>{let i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{let i=new DataView(e),s=0;if(65496!==i.getUint16(s))return n("not a valid JPEG");for(s+=2;;){let o=i.getUint16(s);if(65498===o)break;let a=i.getUint16(s+2);if(65505===o&&0x45786966===i.getUint32(s+4)){let o,l=s+10;switch(i.getUint16(l)){case 18761:o=!0;break;case 19789:o=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==i.getUint16(l+2,o))return n("TIFF header contains invalid version");let f=i.getUint32(l+4,o),u=l+f+2+12*i.getUint16(l+f,o);for(let e=l+f+2;e<u;e+=12)if(274==i.getUint16(e,o)){if(3!==i.getUint16(e+2,o))return n("Orientation data type is invalid");if(1!==i.getUint32(e+4,o))return n("Orientation data count is invalid");i.setUint16(e+8,1,o);break}return r(e.slice(s,s+2+a))}s+=2+a}return r(new Blob)}),i.readAsArrayBuffer(e)});var a={},l={get exports(){return a},set exports(t){a=t}};!function(e){var r,n,i={};l.exports=i,i.parse=function(e,r){for(var n=i.bin.readUshort,s=i.bin.readUint,o=0,a={},l=new Uint8Array(e),f=l.length-4;0x6054b50!=s(l,f);)f--;var u=n(l,o=f+4+4);n(l,o+=2);var h=s(l,o+=2),c=s(l,o+=4);o+=4,o=c;for(var d=0;d<u;d++){s(l,o),o+=4,o+=4,o+=4,s(l,o+=4),h=s(l,o+=4);var p=s(l,o+=4),g=n(l,o+=4),_=n(l,o+2),m=n(l,o+4);o+=6;var b=s(l,o+=8);o+=4,o+=g+_+m,i._readLocal(l,b,a,h,p,r)}return a},i._readLocal=function(e,r,n,s,o,a){var l=i.bin.readUshort,f=i.bin.readUint;f(e,r),l(e,r+=4),l(e,r+=2);var u=l(e,r+=2);f(e,r+=2),f(e,r+=4),r+=4;var h=l(e,r+=8),c=l(e,r+=2);r+=2;var d=i.bin.readUTF8(e,r,h);if(r+=h,r+=c,a)n[d]={size:o,csize:s};else{var p=new Uint8Array(e.buffer,r);if(0==u)n[d]=new Uint8Array(p.buffer.slice(r,r+s));else{if(8!=u)throw"unknown compression method: "+u;var g=new Uint8Array(o);i.inflateRaw(p,g),n[d]=g}}},i.inflateRaw=function(e,r){return i.F.inflate(e,r)},i.inflate=function(e,r){return e[0],e[1],i.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},i.deflate=function(e,r){null==r&&(r={level:6});var n=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[n]=120,s[n+1]=156,n+=2,n=i.F.deflateRaw(e,s,n,r.level);var o=i.adler(e,0,e.length);return s[n+0]=o>>>24&255,s[n+1]=o>>>16&255,s[n+2]=o>>>8&255,s[n+3]=o>>>0&255,new Uint8Array(s.buffer,0,n+4)},i.deflateRaw=function(e,r){null==r&&(r={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),s=i.F.deflateRaw(e,n,s,r.level);return new Uint8Array(n.buffer,0,s)},i.encode=function(e,r){null==r&&(r=!1);var n=0,s=i.bin.writeUint,o=i.bin.writeUshort,a={};for(var l in e){var f=!i._noNeed(l)&&!r,u=e[l],h=i.crc.crc(u,0,u.length);a[l]={cpr:f,usize:u.length,crc:h,file:f?i.deflateRaw(u):u}}for(var l in a)n+=a[l].file.length+30+46+2*i.bin.sizeUTF8(l);var c=new Uint8Array(n+=22),d=0,p=[];for(var l in a){var g=a[l];p.push(d),d=i._writeHeader(c,d,l,g,0)}var _=0,m=d;for(var l in a)g=a[l],p.push(d),d=i._writeHeader(c,d,l,g,1,p[_++]);var b=d-m;return s(c,d,0x6054b50),d+=4,o(c,d+=4,_),o(c,d+=2,_),s(c,d+=2,b),s(c,d+=4,m),d+=4,d+=2,c.buffer},i._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return -1!="png,jpg,jpeg,zip".indexOf(r)},i._writeHeader=function(e,r,n,s,o,a){var l=i.bin.writeUint,f=i.bin.writeUshort,u=s.file;return l(e,r,0==o?0x4034b50:0x2014b50),r+=4,1==o&&(r+=2),f(e,r,20),f(e,r+=2,0),f(e,r+=2,8*!!s.cpr),l(e,r+=2,0),l(e,r+=4,s.crc),l(e,r+=4,u.length),l(e,r+=4,s.usize),f(e,r+=4,i.bin.sizeUTF8(n)),f(e,r+=2,0),r+=2,1==o&&(r+=2,r+=2,l(e,r+=6,a),r+=4),r+=i.bin.writeUTF8(e,r,n),0==o&&(e.set(u,r),r+=u.length),r},i.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var n=r,i=0;i<8;i++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update:function(e,r,n,s){for(var o=0;o<s;o++)e=i.crc.table[255&(e^r[n+o])]^e>>>8;return e},crc:function(e,r,n){return 0xffffffff^i.crc.update(0xffffffff,e,r,n)}},i.adler=function(e,r,n){for(var i=1,s=0,o=r,a=r+n;o<a;){for(var l=Math.min(o+5552,a);o<l;)s+=i+=e[o++];i%=65521,s%=65521}return s<<16|i},i.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255},readUint:function(e,r){return 0x1000000*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},readASCII:function(e,r,n){for(var i="",s=0;s<n;s++)i+=String.fromCharCode(e[r+s]);return i},writeASCII:function(e,r,n){for(var i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,n){for(var s,o="",a=0;a<n;a++)o+="%"+i.bin.pad(e[r+a].toString(16));try{s=decodeURIComponent(o)}catch(s){return i.bin.readASCII(e,r,n)}return s},writeUTF8:function(e,r,n){for(var i=n.length,s=0,o=0;o<i;o++){var a=n.charCodeAt(o);if(0==(0xffffff80&a))e[r+s]=a,s++;else if(0==(0xfffff800&a))e[r+s]=192|a>>6,e[r+s+1]=128|(0|a)&63,s+=2;else if(0==(0xffff0000&a))e[r+s]=224|a>>12,e[r+s+1]=128|a>>6&63,e[r+s+2]=128|(0|a)&63,s+=3;else{if(0!=(0xffe00000&a))throw"e";e[r+s]=240|a>>18,e[r+s+1]=128|a>>12&63,e[r+s+2]=128|a>>6&63,e[r+s+3]=128|(0|a)&63,s+=4}}return s},sizeUTF8:function(e){for(var r=e.length,n=0,i=0;i<r;i++){var s=e.charCodeAt(i);if(0==(0xffffff80&s))n++;else if(0==(0xfffff800&s))n+=2;else if(0==(0xffff0000&s))n+=3;else{if(0!=(0xffe00000&s))throw"e";n+=4}}return n}},i.F={},i.F.deflateRaw=function(e,r,n,s){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],a=i.F.U,l=i.F._goodIndex;i.F._hash;var f=i.F._putsE,u=0,h=n<<3,c=0,d=e.length;if(0==s){for(;u<d;)f(r,h,+(u+(T=Math.min(65535,d-u))==d)),h=i.F._copyExact(e,u,T,r,h+8),u+=T;return h>>>3}var p=a.lits,g=a.strt,_=a.prev,m=0,b=0,w=0,A=0,v=0,y=0;for(d>2&&(g[y=i.F._hash(e,0)]=0),u=0;u<d;u++){if(v=y,u+1<d-2){y=i.F._hash(e,u+1);var U=u+1&32767;_[U]=g[y],g[y]=U}if(c<=u){(m>14e3||b>26697)&&d-u>100&&(c<u&&(p[m]=u-c,m+=2,c=u),h=i.F._writeBlock(+(u==d-1||c==d),p,m,A,e,w,u-w,r,h),m=b=A=0,w=u);var E=0;u<d-2&&(E=i.F._bestMatch(e,u,_,v,Math.min(o[2],d-u),o[3]));var T=E>>>16,R=65535&E;if(0!=E){R=65535&E;var x=l(T=E>>>16,a.of0);a.lhst[257+x]++;var C=l(R,a.df0);a.dhst[C]++,A+=a.exb[x]+a.dxb[C],p[m]=T<<23|u-c,p[m+1]=R<<16|x<<8|C,m+=2,c=u+T}else a.lhst[e[u]]++;b++}}for(w==u&&0!=e.length||(c<u&&(p[m]=u-c,m+=2,c=u),h=i.F._writeBlock(1,p,m,A,e,w,u-w,r,h),m=0,b=0,m=b=A=0,w=u);0!=(7&h);)h++;return h>>>3},i.F._bestMatch=function(e,r,n,s,o,a){var l=32767&r,f=n[l],u=l-f+32768&32767;if(f==l||s!=i.F._hash(e,r-u))return 0;for(var h=0,c=0,d=Math.min(32767,r);u<=d&&0!=--a&&f!=l;){if(0==h||e[r+h]==e[r+h-u]){var p=i.F._howLong(e,r,u);if(p>h){if(c=u,(h=p)>=o)break;u+2<p&&(p=u+2);for(var g=0,_=0;_<p-2;_++){var m=r-u+_+32768&32767,b=m-n[m]+32768&32767;b>g&&(g=b,f=m)}}}u+=(l=f)-(f=n[l])+32768&32767}return h<<16|c},i.F._howLong=function(e,r,n){if(e[r]!=e[r-n]||e[r+1]!=e[r+1-n]||e[r+2]!=e[r+2-n])return 0;var i=r,s=Math.min(e.length,r+258);for(r+=3;r<s&&e[r]==e[r-n];)r++;return r-i},i.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(e,r,n,s,o,a,l,f,u){var h,c,d,p,g,_,m,b,w,A,v,y=i.F.U,U=i.F._putsF,E=i.F._putsE;y.lhst[256]++,p=(d=i.F.getTrees())[0],g=d[1],_=d[2],m=d[3],b=d[4],w=d[5],A=d[6],v=d[7];var T=32+(0==(u+3&7)?0:8-(u+3&7))+(l<<3),R=s+i.F.contSize(y.fltree,y.lhst)+i.F.contSize(y.fdtree,y.dhst),x=s+i.F.contSize(y.ltree,y.lhst)+i.F.contSize(y.dtree,y.dhst);x+=14+3*w+i.F.contSize(y.itree,y.ihst)+(2*y.ihst[16]+3*y.ihst[17]+7*y.ihst[18]);for(var C=0;C<286;C++)y.lhst[C]=0;for(C=0;C<30;C++)y.dhst[C]=0;for(C=0;C<19;C++)y.ihst[C]=0;var k=T<R&&T<x?0:R<x?1:2;if(U(f,u,e),U(f,u+1,k),u+=3,0==k){for(;0!=(7&u);)u++;u=i.F._copyExact(o,a,l,f,u)}else{if(1==k&&(h=y.fltree,c=y.fdtree),2==k){i.F.makeCodes(y.ltree,p),i.F.revCodes(y.ltree,p),i.F.makeCodes(y.dtree,g),i.F.revCodes(y.dtree,g),i.F.makeCodes(y.itree,_),i.F.revCodes(y.itree,_),h=y.ltree,c=y.dtree,E(f,u,m-257),E(f,u+=5,b-1),E(f,u+=5,w-4),u+=4;for(var F=0;F<w;F++)E(f,u+3*F,y.itree[1+(y.ordr[F]<<1)]);u+=3*w,u=i.F._codeTiny(A,y.itree,f,u),u=i.F._codeTiny(v,y.itree,f,u)}for(var I=a,O=0;O<n;O+=2){for(var S=r[O],B=S>>>23,N=I+(8388607&S);I<N;)u=i.F._writeLit(o[I++],h,f,u);if(0!=B){var P=r[O+1],M=P>>16,D=P>>8&255,L=255&P;E(f,u=i.F._writeLit(257+D,h,f,u),B-y.of0[D]),u+=y.exb[D],U(f,u=i.F._writeLit(L,c,f,u),M-y.df0[L]),u+=y.dxb[L],I+=B}}u=i.F._writeLit(256,h,f,u)}return u},i.F._copyExact=function(e,r,n,i,s){var o=s>>>3;return i[o]=n,i[o+1]=n>>>8,i[o+2]=255-i[o],i[o+3]=255-i[o+1],o+=4,i.set(new Uint8Array(e.buffer,r,n),o),s+(n+4<<3)},i.F.getTrees=function(){for(var e=i.F.U,r=i.F._hufTree(e.lhst,e.ltree,15),n=i.F._hufTree(e.dhst,e.dtree,15),s=[],o=i.F._lenCodes(e.ltree,s),a=[],l=i.F._lenCodes(e.dtree,a),f=0;f<s.length;f+=2)e.ihst[s[f]]++;for(f=0;f<a.length;f+=2)e.ihst[a[f]]++;for(var u=i.F._hufTree(e.ihst,e.itree,7),h=19;h>4&&0==e.itree[1+(e.ordr[h-1]<<1)];)h--;return[r,n,u,o,l,h,s,a]},i.F.getSecond=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(e[n+1]);return r},i.F.nonZero=function(e){for(var r="",n=0;n<e.length;n+=2)0!=e[n+1]&&(r+=(n>>1)+",");return r},i.F.contSize=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i]*e[1+(i<<1)];return n},i.F._codeTiny=function(e,r,n,s){for(var o=0;o<e.length;o+=2){var a=e[o],l=e[o+1];s=i.F._writeLit(a,r,n,s);var f=16==a?2:17==a?3:7;a>15&&(i.F._putsE(n,s,l,f),s+=f)}return s},i.F._lenCodes=function(e,r){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var i=0;i<n;i+=2){var s=e[i+1],o=i+3<n?e[i+3]:-1,a=i+5<n?e[i+5]:-1,l=0==i?-1:e[i-1];if(0==s&&o==s&&a==s){for(var f=i+5;f+2<n&&e[f+2]==s;)f+=2;(u=Math.min(f+1-i>>>1,138))<11?r.push(17,u-3):r.push(18,u-11),i+=2*u-2}else if(s==l&&o==s&&a==s){for(f=i+5;f+2<n&&e[f+2]==s;)f+=2;var u=Math.min(f+1-i>>>1,6);r.push(16,u-3),i+=2*u-2}else r.push(s,0)}return n>>>1},i.F._hufTree=function(e,r,n){var s=[],o=e.length,a=r.length,l=0;for(l=0;l<a;l+=2)r[l]=0,r[l+1]=0;for(l=0;l<o;l++)0!=e[l]&&s.push({lit:l,f:e[l]});var f=s.length,u=s.slice(0);if(0==f)return 0;if(1==f){var h=s[0].lit;return u=+(0==h),r[1+(h<<1)]=1,r[1+(u<<1)]=1,1}s.sort(function(e,r){return e.f-r.f});var c=s[0],d=s[1],p=0,g=1,_=2;for(s[0]={lit:-1,f:c.f+d.f,l:c,r:d,d:0};g!=f-1;)c=p!=g&&(_==f||s[p].f<s[_].f)?s[p++]:s[_++],d=p!=g&&(_==f||s[p].f<s[_].f)?s[p++]:s[_++],s[g++]={lit:-1,f:c.f+d.f,l:c,r:d};var m=i.F.setDepth(s[g-1],0);for(m>n&&(i.F.restrictDepth(u,n,m),m=n),l=0;l<f;l++)r[1+(u[l].lit<<1)]=u[l].d;return m},i.F.setDepth=function(e,r){return -1!=e.lit?(e.d=r,r):Math.max(i.F.setDepth(e.l,r+1),i.F.setDepth(e.r,r+1))},i.F.restrictDepth=function(e,r,n){var i=0,s=1<<n-r,o=0;for(e.sort(function(e,r){return r.d==e.d?e.f-r.f:r.d-e.d}),i=0;i<e.length&&e[i].d>r;i++){var a=e[i].d;e[i].d=r,o+=s-(1<<n-a)}for(o>>>=n-r;o>0;)(a=e[i].d)<r?(e[i].d++,o-=1<<r-a-1):i++;for(;i>=0;i--)e[i].d==r&&o<0&&(e[i].d--,o++);0!=o&&console.log("debt left")},i.F._goodIndex=function(e,r){var n=0;return r[16]<=e&&(n|=16),r[8|n]<=e&&(n|=8),r[4|n]<=e&&(n|=4),r[2|n]<=e&&(n|=2),r[1|n]<=e&&(n|=1),n},i.F._writeLit=function(e,r,n,s){return i.F._putsF(n,s,r[e<<1]),s+r[1+(e<<1)]},i.F.inflate=function(e,r){var n=Uint8Array;if(3==e[0]&&0==e[1])return r||new n(0);var s=i.F,o=s._bitsF,a=s._bitsE,l=s._decodeTiny,f=s.makeCodes,u=s.codes2map,h=s._get17,c=s.U,d=null==r;d&&(r=new n(e.length>>>2<<3));for(var p,g,_=0,m=0,b=0,w=0,A=0,v=0,y=0,U=0,E=0;0==_;)if(_=o(e,E,1),m=o(e,E+1,2),E+=3,0!=m){if(d&&(r=i.F._check(r,U+131072)),1==m&&(p=c.flmap,g=c.fdmap,v=511,y=31),2==m){b=a(e,E,5)+257,w=a(e,E+5,5)+1,A=a(e,E+10,4)+4,E+=14;for(var T=0;T<38;T+=2)c.itree[T]=0,c.itree[T+1]=0;var R=1;for(T=0;T<A;T++){var x=a(e,E+3*T,3);c.itree[1+(c.ordr[T]<<1)]=x,x>R&&(R=x)}E+=3*A,f(c.itree,R),u(c.itree,R,c.imap),p=c.lmap,g=c.dmap,E=l(c.imap,(1<<R)-1,b+w,e,E,c.ttree);var C=s._copyOut(c.ttree,0,b,c.ltree);v=(1<<C)-1;var k=s._copyOut(c.ttree,b,w,c.dtree);y=(1<<k)-1,f(c.ltree,C),u(c.ltree,C,p),f(c.dtree,k),u(c.dtree,k,g)}for(;;){var F=p[h(e,E)&v];E+=15&F;var I=F>>>4;if(I>>>8==0)r[U++]=I;else{if(256==I)break;var O=U+I-254;if(I>264){var S=c.ldef[I-257];O=U+(S>>>3)+a(e,E,7&S),E+=7&S}var B=g[h(e,E)&y];E+=15&B;var N=B>>>4,P=c.ddef[N],M=(P>>>4)+o(e,E,15&P);for(E+=15&P,d&&(r=i.F._check(r,U+131072));U<O;)r[U]=r[U++-M],r[U]=r[U++-M],r[U]=r[U++-M],r[U]=r[U++-M];U=O}}}else{0!=(7&E)&&(E+=8-(7&E));var D=4+(E>>>3),L=e[D-4]|e[D-3]<<8;d&&(r=i.F._check(r,U+L)),r.set(new n(e.buffer,e.byteOffset+D,L),U),E=D+L<<3,U+=L}return r.length==U?r:r.slice(0,U)},i.F._check=function(e,r){var n=e.length;if(r<=n)return e;var i=new Uint8Array(Math.max(n<<1,r));return i.set(e,0),i},i.F._decodeTiny=function(e,r,n,s,o,a){for(var l=i.F._bitsE,f=i.F._get17,u=0;u<n;){var h=e[f(s,o)&r];o+=15&h;var c=h>>>4;if(c<=15)a[u]=c,u++;else{var d=0,p=0;16==c?(p=3+l(s,o,2),o+=2,d=a[u-1]):17==c?(p=3+l(s,o,3),o+=3):18==c&&(p=11+l(s,o,7),o+=7);for(var g=u+p;u<g;)a[u]=d,u++}}return o},i.F._copyOut=function(e,r,n,i){for(var s=0,o=0,a=i.length>>>1;o<n;){var l=e[o+r];i[o<<1]=0,i[1+(o<<1)]=l,l>s&&(s=l),o++}for(;o<a;)i[o<<1]=0,i[1+(o<<1)]=0,o++;return s},i.F.makeCodes=function(e,r){for(var n,s,o,a,l=i.F.U,f=e.length,u=l.bl_count,h=0;h<=r;h++)u[h]=0;for(h=1;h<f;h+=2)u[e[h]]++;var c=l.next_code;for(n=0,u[0]=0,s=1;s<=r;s++)n=n+u[s-1]<<1,c[s]=n;for(o=0;o<f;o+=2)0!=(a=e[o+1])&&(e[o]=c[a],c[a]++)},i.F.codes2map=function(e,r,n){for(var s=e.length,o=i.F.U.rev15,a=0;a<s;a+=2)if(0!=e[a+1])for(var l=a>>1,f=e[a+1],u=l<<4|f,h=r-f,c=e[a]<<h,d=c+(1<<h);c!=d;)n[o[c]>>>15-r]=u,c++},i.F.revCodes=function(e,r){for(var n=i.F.U.rev15,s=15-r,o=0;o<e.length;o+=2){var a=e[o]<<r-e[o+1];e[o]=n[a]>>>s}},i.F._putsE=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},i.F._putsF=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},i.F._bitsE=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},i.F._bitsF=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},i.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},i.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},i.F.U=(r=Uint16Array,n=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new r(65536),prev:new r(32768)}),function(){for(var e=i.F.U,r=0;r<32768;r++){var n=r;n=(0xff00ff00&(n=(0xf0f0f0f0&(n=(0xcccccccc&(n=(0xaaaaaaaa&n)>>>1|(0x55555555&n)<<1))>>>2|(0x33333333&n)<<2))>>>4|(0xf0f0f0f&n)<<4))>>>8|(0xff00ff&n)<<8,e.rev15[r]=(n>>>16|n<<16)>>>17}function s(e,r,n){for(;0!=r--;)e.push(0,n)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),i.F.makeCodes(e.fltree,9),i.F.codes2map(e.fltree,9,e.flmap),i.F.revCodes(e.fltree,9),s(e.fdtree,32,5),i.F.makeCodes(e.fdtree,5),i.F.codes2map(e.fdtree,5,e.fdmap),i.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()}();var f=function(e,r){return r.forEach(function(r){r&&"string"!=typeof r&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if("default"!==n&&!(n in e)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}({__proto__:null,default:a},[a]);let u=function(){var e={nextZero(e,r){for(;0!=e[r];)r++;return r},readUshort:(e,r)=>e[r]<<8|e[r+1],writeUshort(e,r,n){e[r]=n>>8&255,e[r+1]=255&n},readUint:(e,r)=>0x1000000*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3]),writeUint(e,r,n){e[r]=n>>24&255,e[r+1]=n>>16&255,e[r+2]=n>>8&255,e[r+3]=255&n},readASCII(e,r,n){let i="";for(let s=0;s<n;s++)i+=String.fromCharCode(e[r+s]);return i},writeASCII(e,r,n){for(let i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},readBytes(e,r,n){let i=[];for(let s=0;s<n;s++)i.push(e[r+s]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(r,n,i){let s,o="";for(let s=0;s<i;s++)o+=`%${e.pad(r[n+s].toString(16))}`;try{s=decodeURIComponent(o)}catch(s){return e.readASCII(r,n,i)}return s}};function r(r,n,i,s){let a=n*i,l=Math.ceil(n*o(s)/8),f=new Uint8Array(4*a),u=new Uint32Array(f.buffer),{ctype:h}=s,{depth:c}=s,d=e.readUshort;if(6==h){let e=a<<2;if(8==c)for(var p=0;p<e;p+=4)f[p]=r[p],f[p+1]=r[p+1],f[p+2]=r[p+2],f[p+3]=r[p+3];if(16==c)for(p=0;p<e;p++)f[p]=r[p<<1]}else if(2==h){let e=s.tabs.tRNS;if(null==e){if(8==c)for(p=0;p<a;p++){var g=3*p;u[p]=-0x1000000|r[g+2]<<16|r[g+1]<<8|r[g]}if(16==c)for(p=0;p<a;p++)g=6*p,u[p]=-0x1000000|r[g+4]<<16|r[g+2]<<8|r[g]}else{var _=e[0];let n=e[1],i=e[2];if(8==c)for(p=0;p<a;p++){var m=p<<2;g=3*p,u[p]=-0x1000000|r[g+2]<<16|r[g+1]<<8|r[g],r[g]==_&&r[g+1]==n&&r[g+2]==i&&(f[m+3]=0)}if(16==c)for(p=0;p<a;p++)m=p<<2,g=6*p,u[p]=-0x1000000|r[g+4]<<16|r[g+2]<<8|r[g],d(r,g)==_&&d(r,g+2)==n&&d(r,g+4)==i&&(f[m+3]=0)}}else if(3==h){let e=s.tabs.PLTE,o=s.tabs.tRNS,u=o?o.length:0;if(1==c)for(var b,w=0;w<i;w++){var A=w*l,v=w*n;for(p=0;p<n;p++){m=v+p<<2;var y=3*(b=r[A+(p>>3)]>>7-(7&p)&1);f[m]=e[y],f[m+1]=e[y+1],f[m+2]=e[y+2],f[m+3]=b<u?o[b]:255}}if(2==c)for(w=0;w<i;w++)for(A=w*l,v=w*n,p=0;p<n;p++)m=v+p<<2,y=3*(b=r[A+(p>>2)]>>6-((3&p)<<1)&3),f[m]=e[y],f[m+1]=e[y+1],f[m+2]=e[y+2],f[m+3]=b<u?o[b]:255;if(4==c)for(w=0;w<i;w++)for(A=w*l,v=w*n,p=0;p<n;p++)m=v+p<<2,y=3*(b=r[A+(p>>1)]>>4-((1&p)<<2)&15),f[m]=e[y],f[m+1]=e[y+1],f[m+2]=e[y+2],f[m+3]=b<u?o[b]:255;if(8==c)for(p=0;p<a;p++)m=p<<2,y=3*(b=r[p]),f[m]=e[y],f[m+1]=e[y+1],f[m+2]=e[y+2],f[m+3]=b<u?o[b]:255}else if(4==h){if(8==c)for(p=0;p<a;p++){m=p<<2;var U,E=r[U=p<<1];f[m]=E,f[m+1]=E,f[m+2]=E,f[m+3]=r[U+1]}if(16==c)for(p=0;p<a;p++)m=p<<2,E=r[U=p<<2],f[m]=E,f[m+1]=E,f[m+2]=E,f[m+3]=r[U+2]}else if(0==h)for(_=s.tabs.tRNS?s.tabs.tRNS:-1,w=0;w<i;w++){let e=w*l,i=w*n;if(1==c)for(var T=0;T<n;T++){var R=255*((E=255*(r[e+(T>>>3)]>>>7-(7&T)&1))!=255*_);u[i+T]=R<<24|E<<16|E<<8|E}else if(2==c)for(T=0;T<n;T++)R=255*((E=85*(r[e+(T>>>2)]>>>6-((3&T)<<1)&3))!=85*_),u[i+T]=R<<24|E<<16|E<<8|E;else if(4==c)for(T=0;T<n;T++)R=255*((E=17*(r[e+(T>>>1)]>>>4-((1&T)<<2)&15))!=17*_),u[i+T]=R<<24|E<<16|E<<8|E;else if(8==c)for(T=0;T<n;T++)R=255*((E=r[e+T])!=_),u[i+T]=R<<24|E<<16|E<<8|E;else if(16==c)for(T=0;T<n;T++)E=r[e+(T<<1)],R=255*(d(r,e+(T<<1))!=_),u[i+T]=R<<24|E<<16|E<<8|E}return f}function n(e,r,n,l){let f=new Uint8Array((Math.ceil(n*o(e)/8)+1+e.interlace)*l);return r=e.tabs.CgBI?s(r,f):i(r,f),0==e.interlace?r=a(r,e,0,n,l):1==e.interlace&&(r=function(e,r){let n=r.width,i=r.height,s=o(r),l=s>>3,f=Math.ceil(n*s/8),u=new Uint8Array(i*f),h=0,c=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],p=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1],_=0;for(;_<7;){let o=p[_],b=g[_],w=0,A=0,v=c[_];for(;v<i;)v+=o,A++;let y=d[_];for(;y<n;)y+=b,w++;let U=Math.ceil(w*s/8);a(e,r,h,w,A);let E=0,T=c[_];for(;T<i;){let r=d[_],i=h+E*U<<3;for(;r<n;){var m;if(1==s&&(m=(m=e[i>>3])>>7-(7&i)&1,u[T*f+(r>>3)]|=m<<7-(7&r)),2==s&&(m=(m=e[i>>3])>>6-(7&i)&3,u[T*f+(r>>2)]|=m<<6-((3&r)<<1)),4==s&&(m=(m=e[i>>3])>>4-(7&i)&15,u[T*f+(r>>1)]|=m<<4-((1&r)<<2)),s>=8){let n=T*f+r*l;for(let r=0;r<l;r++)u[n+r]=e[(i>>3)+r]}i+=s,r+=b}E++,T+=o}w*A!=0&&(h+=A*(1+U)),_+=1}return u}(r,e)),r}function i(e,r){return s(new Uint8Array(e.buffer,2,e.length-6),r)}var s=function(){let e={H:{}};return e.H.N=function(r,n){let i=Uint8Array,s,o,a=0,l=0,f=0,u=0,h=0,c=0,d=0,p=0,g=0;if(3==r[0]&&0==r[1])return n||new i(0);let _=e.H,m=_.b,b=_.e,w=_.R,A=_.n,v=_.A,y=_.Z,U=_.m,E=null==n;for(E&&(n=new i(r.length>>>2<<5));0==a;)if(a=m(r,g,1),l=m(r,g+1,2),g+=3,0!=l){if(E&&(n=e.H.W(n,p+131072)),1==l&&(s=U.J,o=U.h,c=511,d=31),2==l){f=b(r,g,5)+257,u=b(r,g+5,5)+1,h=b(r,g+10,4)+4,g+=14;let e=1;for(var T=0;T<38;T+=2)U.Q[T]=0,U.Q[T+1]=0;for(T=0;T<h;T++){let n=b(r,g+3*T,3);U.Q[1+(U.X[T]<<1)]=n,n>e&&(e=n)}g+=3*h,A(U.Q,e),v(U.Q,e,U.u),s=U.w,o=U.d,g=w(U.u,(1<<e)-1,f+u,r,g,U.v);let n=_.V(U.v,0,f,U.C);c=(1<<n)-1;let i=_.V(U.v,f,u,U.D);d=(1<<i)-1,A(U.C,n),v(U.C,n,s),A(U.D,i),v(U.D,i,o)}for(;;){let e=s[y(r,g)&c];g+=15&e;let i=e>>>4;if(i>>>8==0)n[p++]=i;else{if(256==i)break;{let e=p+i-254;if(i>264){let n=U.q[i-257];e=p+(n>>>3)+b(r,g,7&n),g+=7&n}let s=o[y(r,g)&d];g+=15&s;let a=s>>>4,l=U.c[a],f=(l>>>4)+m(r,g,15&l);for(g+=15&l;p<e;)n[p]=n[p++-f],n[p]=n[p++-f],n[p]=n[p++-f],n[p]=n[p++-f];p=e}}}}else{0!=(7&g)&&(g+=8-(7&g));let s=4+(g>>>3),o=r[s-4]|r[s-3]<<8;E&&(n=e.H.W(n,p+o)),n.set(new i(r.buffer,r.byteOffset+s,o),p),g=s+o<<3,p+=o}return n.length==p?n:n.slice(0,p)},e.H.W=function(e,r){let n=e.length;if(r<=n)return e;let i=new Uint8Array(n<<1);return i.set(e,0),i},e.H.R=function(r,n,i,s,o,a){let l=e.H.e,f=e.H.Z,u=0;for(;u<i;){let e=r[f(s,o)&n];o+=15&e;let i=e>>>4;if(i<=15)a[u]=i,u++;else{let e=0,r=0;16==i?(r=3+l(s,o,2),o+=2,e=a[u-1]):17==i?(r=3+l(s,o,3),o+=3):18==i&&(r=11+l(s,o,7),o+=7);let n=u+r;for(;u<n;)a[u]=e,u++}}return o},e.H.V=function(e,r,n,i){let s=0,o=0,a=i.length>>>1;for(;o<n;){let n=e[o+r];i[o<<1]=0,i[1+(o<<1)]=n,n>s&&(s=n),o++}for(;o<a;)i[o<<1]=0,i[1+(o<<1)]=0,o++;return s},e.H.n=function(r,n){let i,s,o,a,l=e.H.m,f=r.length,u=l.j;for(var h=0;h<=n;h++)u[h]=0;for(h=1;h<f;h+=2)u[r[h]]++;let c=l.K;for(i=0,u[0]=0,s=1;s<=n;s++)i=i+u[s-1]<<1,c[s]=i;for(o=0;o<f;o+=2)0!=(a=r[o+1])&&(r[o]=c[a],c[a]++)},e.H.A=function(r,n,i){let s=r.length,o=e.H.m.r;for(let e=0;e<s;e+=2)if(0!=r[e+1]){let s=e>>1,a=r[e+1],l=s<<4|a,f=n-a,u=r[e]<<f,h=u+(1<<f);for(;u!=h;)i[o[u]>>>15-n]=l,u++}},e.H.l=function(r,n){let i=e.H.m.r,s=15-n;for(let e=0;e<r.length;e+=2){let o=r[e]<<n-r[e+1];r[e]=i[o]>>>s}},e.H.M=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},e.H.I=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},e.H.e=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},e.H.b=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},e.H.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},e.H.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},e.H.m=function(){let e=Uint16Array,r=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new e(65536),g:new e(32768)}}(),function(){let r=e.H.m;for(var n=0;n<32768;n++){let e=n;e=(0xff00ff00&(e=(0xf0f0f0f0&(e=(0xcccccccc&(e=(0xaaaaaaaa&e)>>>1|(0x55555555&e)<<1))>>>2|(0x33333333&e)<<2))>>>4|(0xf0f0f0f&e)<<4))>>>8|(0xff00ff&e)<<8,r.r[n]=(e>>>16|e<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(n=0;n<32;n++)r.q[n]=r.S[n]<<3|r.T[n],r.c[n]=r.p[n]<<4|r.z[n];i(r._,144,8),i(r._,112,9),i(r._,24,7),i(r._,8,8),e.H.n(r._,9),e.H.A(r._,9,r.J),e.H.l(r._,9),i(r.$,32,5),e.H.n(r.$,5),e.H.A(r.$,5,r.h),e.H.l(r.$,5),i(r.Q,19,0),i(r.C,286,0),i(r.D,30,0),i(r.v,320,0)}(),e.H.N}();function o(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function a(e,r,n,i,s){let a,f,u=o(r),h=Math.ceil(i*u/8);u=Math.ceil(u/8);let c=e[n],d=0;if(c>1&&(e[n]=[0,0,1][c-2]),3==c)for(d=u;d<h;d++)e[d+1]=e[d+1]+(e[d+1-u]>>>1)&255;for(let r=0;r<s;r++)if(c=e[(f=(a=n+r*h)+r+1)-1],d=0,0==c)for(;d<h;d++)e[a+d]=e[f+d];else if(1==c){for(;d<u;d++)e[a+d]=e[f+d];for(;d<h;d++)e[a+d]=e[f+d]+e[a+d-u]}else if(2==c)for(;d<h;d++)e[a+d]=e[f+d]+e[a+d-h];else if(3==c){for(;d<u;d++)e[a+d]=e[f+d]+(e[a+d-h]>>>1);for(;d<h;d++)e[a+d]=e[f+d]+(e[a+d-h]+e[a+d-u]>>>1)}else{for(;d<u;d++)e[a+d]=e[f+d]+l(0,e[a+d-h],0);for(;d<h;d++)e[a+d]=e[f+d]+l(e[a+d-u],e[a+d-h],e[a+d-u-h])}return e}function l(e,r,n){let i=e+r-n,s=i-e,o=i-r,a=i-n;return s*s<=o*o&&s*s<=a*a?e:o*o<=a*a?r:n}function f(e,r,n,i,s,o,a,l,f){let u=Math.min(r,s),h=Math.min(n,o),c=0,d=0;for(let n=0;n<h;n++)for(let o=0;o<u;o++)if(a>=0&&l>=0?(c=n*r+o<<2,d=(l+n)*s+a+o<<2):(c=(-l+n)*r-a+o<<2,d=n*s+o<<2),0==f)i[d]=e[c],i[d+1]=e[c+1],i[d+2]=e[c+2],i[d+3]=e[c+3];else if(1==f){var p=e[c+3]*(1/255),g=e[c]*p,_=e[c+1]*p,m=e[c+2]*p,b=i[d+3]*(1/255),w=i[d]*b,A=i[d+1]*b,v=i[d+2]*b;let r=1-p,n=p+b*r,s=0==n?0:1/n;i[d+3]=255*n,i[d+0]=(g+w*r)*s,i[d+1]=(_+A*r)*s,i[d+2]=(m+v*r)*s}else if(2==f)p=e[c+3],g=e[c],_=e[c+1],m=e[c+2],b=i[d+3],w=i[d],A=i[d+1],v=i[d+2],p==b&&g==w&&_==A&&m==v?(i[d]=0,i[d+1]=0,i[d+2]=0,i[d+3]=0):(i[d]=g,i[d+1]=_,i[d+2]=m,i[d+3]=p);else if(3==f){if(p=e[c+3],g=e[c],_=e[c+1],m=e[c+2],b=i[d+3],w=i[d],A=i[d+1],v=i[d+2],p==b&&g==w&&_==A&&m==v)continue;if(p<220&&b>20)return!1}return!0}return{decode:function(r){let o=new Uint8Array(r),a=8,l=e.readUshort,f=e.readUint,u={tabs:{},frames:[]},h=new Uint8Array(o.length),c,d=0,p=0,g=[137,80,78,71,13,10,26,10];for(var _,m=0;m<8;m++)if(o[m]!=g[m])throw"The input is not a PNG file!";for(;a<o.length;){let r=e.readUint(o,a);a+=4;let g=e.readASCII(o,a,4);if(a+=4,"IHDR"==g)b=a,u.width=e.readUint(o,b),b+=4,u.height=e.readUint(o,b),u.depth=o[b+=4],u.ctype=o[++b],u.compress=o[++b],u.filter=o[++b],u.interlace=o[++b],b++;else if("iCCP"==g){for(var b,w,A=a;0!=o[A];)A++;e.readASCII(o,a,A-a),o[A+1];let n=o.slice(A+2,a+r),l=null;try{l=i(n)}catch(e){l=s(n)}u.tabs[g]=l}else if("CgBI"==g)u.tabs[g]=o.slice(a,a+4);else if("IDAT"==g){for(m=0;m<r;m++)h[d+m]=o[a+m];d+=r}else if("acTL"==g)u.tabs[g]={num_frames:f(o,a),num_plays:f(o,a+4)},c=new Uint8Array(o.length);else if("fcTL"==g){0!=p&&((_=u.frames[u.frames.length-1]).data=n(u,c.slice(0,p),_.rect.width,_.rect.height),p=0);let e={x:f(o,a+12),y:f(o,a+16),width:f(o,a+4),height:f(o,a+8)},r=l(o,a+22),i={rect:e,delay:Math.round(1e3*(r=l(o,a+20)/(0==r?100:r))),dispose:o[a+24],blend:o[a+25]};u.frames.push(i)}else if("fdAT"==g){for(m=0;m<r-4;m++)c[p+m]=o[a+m+4];p+=r-4}else if("pHYs"==g)u.tabs[g]=[e.readUint(o,a),e.readUint(o,a+4),o[a+8]];else if("cHRM"==g)for(m=0,u.tabs[g]=[];m<8;m++)u.tabs[g].push(e.readUint(o,a+4*m));else if("tEXt"==g||"zTXt"==g){null==u.tabs[g]&&(u.tabs[g]={});var v=e.nextZero(o,a),y=e.readASCII(o,a,v-a),U=a+r-v-1;if("tEXt"==g)w=e.readASCII(o,v+1,U);else{var E=i(o.slice(v+2,v+2+U));w=e.readUTF8(E,0,E.length)}u.tabs[g][y]=w}else if("iTXt"==g){null==u.tabs[g]&&(u.tabs[g]={}),v=0,A=a,v=e.nextZero(o,A),y=e.readASCII(o,A,v-A);let n=o[A=v+1];o[A+1],A+=2,v=e.nextZero(o,A),e.readASCII(o,A,v-A),A=v+1,v=e.nextZero(o,A),e.readUTF8(o,A,v-A),U=r-((A=v+1)-a),0==n?w=e.readUTF8(o,A,U):(E=i(o.slice(A,A+U)),w=e.readUTF8(E,0,E.length)),u.tabs[g][y]=w}else if("PLTE"==g)u.tabs[g]=e.readBytes(o,a,r);else if("hIST"==g){let e=u.tabs.PLTE.length/3;for(m=0,u.tabs[g]=[];m<e;m++)u.tabs[g].push(l(o,a+2*m))}else if("tRNS"==g)3==u.ctype?u.tabs[g]=e.readBytes(o,a,r):0==u.ctype?u.tabs[g]=l(o,a):2==u.ctype&&(u.tabs[g]=[l(o,a),l(o,a+2),l(o,a+4)]);else if("gAMA"==g)u.tabs[g]=e.readUint(o,a)/1e5;else if("sRGB"==g)u.tabs[g]=o[a];else if("bKGD"==g)0==u.ctype||4==u.ctype?u.tabs[g]=[l(o,a)]:2==u.ctype||6==u.ctype?u.tabs[g]=[l(o,a),l(o,a+2),l(o,a+4)]:3==u.ctype&&(u.tabs[g]=o[a]);else if("IEND"==g)break;a+=r,e.readUint(o,a),a+=4}return 0!=p&&((_=u.frames[u.frames.length-1]).data=n(u,c.slice(0,p),_.rect.width,_.rect.height)),u.data=n(u,h,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(e){let n=e.width,i=e.height;if(null==e.tabs.acTL)return[r(e.data,n,i,e).buffer];let s=[];null==e.frames[0].data&&(e.frames[0].data=e.data);let o=n*i*4,a=new Uint8Array(o),l=new Uint8Array(o),u=new Uint8Array(o);for(let c=0;c<e.frames.length;c++){let d=e.frames[c],p=d.rect.x,g=d.rect.y,_=d.rect.width,m=d.rect.height,b=r(d.data,_,m,e);if(0!=c)for(var h=0;h<o;h++)u[h]=a[h];if(0==d.blend?f(b,_,m,a,n,i,p,g,0):1==d.blend&&f(b,_,m,a,n,i,p,g,1),s.push(a.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)f(l,_,m,a,n,i,p,g,0);else if(2==d.dispose)for(h=0;h<o;h++)a[h]=u[h]}return s},_paeth:l,_copyTile:f,_bin:e}}();!function(){let{_copyTile:e}=u,{_bin:r}=u,n=u._paeth;var i={table:function(){let e=new Uint32Array(256);for(let r=0;r<256;r++){let n=r;for(let e=0;e<8;e++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update(e,r,n,s){for(let o=0;o<s;o++)e=i.table[255&(e^r[n+o])]^e>>>8;return e},crc:(e,r,n)=>0xffffffff^i.update(0xffffffff,e,r,n)};function s(e,r,n,i){r[n]+=e[0]*i>>4,r[n+1]+=e[1]*i>>4,r[n+2]+=e[2]*i>>4,r[n+3]+=e[3]*i>>4}function o(e){return Math.max(0,Math.min(255,e))}function a(e,r){let n=e[0]-r[0],i=e[1]-r[1],s=e[2]-r[2],o=e[3]-r[3];return n*n+i*i+s*s+o*o}function l(e,r,n,i,l,f,u){null==u&&(u=1);let h=i.length,c=[];for(var d,p=0;p<h;p++){let e=i[p];c.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(p=0;p<h;p++){let e=0xffffffff;for(var g=0,_=0;_<h;_++){var m=a(c[p],c[_]);_!=p&&m<e&&(e=m,g=_)}}let b=new Uint32Array(l.buffer),w=new Int16Array(r*n*4),A=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<A.length;p++)A[p]=255*((A[p]+.5)/16-.5);for(let l=0;l<n;l++)for(let v=0;v<r;v++){p=4*(l*r+v),2!=u?d=[o(e[p]+w[p]),o(e[p+1]+w[p+1]),o(e[p+2]+w[p+2]),o(e[p+3]+w[p+3])]:(m=A[4*(3&l)+(3&v)],d=[o(e[p]+m),o(e[p+1]+m),o(e[p+2]+m),o(e[p+3]+m)]),g=0;let y=0xffffff;for(_=0;_<h;_++){let e=a(d,c[_]);e<y&&(y=e,g=_)}let U=c[g],E=[d[0]-U[0],d[1]-U[1],d[2]-U[2],d[3]-U[3]];1==u&&(v!=r-1&&s(E,w,p+4,7),l!=n-1&&(0!=v&&s(E,w,p+4*r-4,3),s(E,w,p+4*r,5),v!=r-1&&s(E,w,p+4*r+4,1))),f[p>>2]=g,b[p>>2]=i[g]}}function h(e,n,s,o,a){null==a&&(a={});let{crc:l}=i,f=r.writeUint,u=r.writeUshort,h=r.writeASCII,c=8,d=e.frames.length>1,p,g=!1,_=33+20*!!d;if(null!=a.sRGB&&(_+=13),null!=a.pHYs&&(_+=21),null!=a.iCCP&&(_+=21+(p=pako.deflate(a.iCCP)).length+4),3==e.ctype){for(var m=e.plte.length,b=0;b<m;b++)e.plte[b]>>>24!=255&&(g=!0);_+=8+3*m+4+(g?8+ +m+4:0)}for(var w=0;w<e.frames.length;w++)d&&(_+=38),_+=(U=e.frames[w]).cimg.length+12,0!=w&&(_+=4);let A=new Uint8Array(_+=12),v=[137,80,78,71,13,10,26,10];for(b=0;b<8;b++)A[b]=v[b];if(f(A,c,13),h(A,c+=4,"IHDR"),f(A,c+=4,n),f(A,c+=4,s),A[c+=4]=e.depth,A[++c]=e.ctype,A[++c]=0,A[++c]=0,A[++c]=0,f(A,++c,l(A,c-17,17)),c+=4,null!=a.sRGB&&(f(A,c,1),h(A,c+=4,"sRGB"),A[c+=4]=a.sRGB,f(A,++c,l(A,c-5,5)),c+=4),null!=a.iCCP){let e=13+p.length;f(A,c,e),h(A,c+=4,"iCCP"),h(A,c+=4,"ICC profile"),c+=11,c+=2,A.set(p,c),f(A,c+=p.length,l(A,c-(e+4),e+4)),c+=4}if(null!=a.pHYs&&(f(A,c,9),h(A,c+=4,"pHYs"),f(A,c+=4,a.pHYs[0]),f(A,c+=4,a.pHYs[1]),A[c+=4]=a.pHYs[2],f(A,++c,l(A,c-13,13)),c+=4),d&&(f(A,c,8),h(A,c+=4,"acTL"),f(A,c+=4,e.frames.length),f(A,c+=4,null!=a.loop?a.loop:0),f(A,c+=4,l(A,c-12,12)),c+=4),3==e.ctype){for(f(A,c,3*(m=e.plte.length)),h(A,c+=4,"PLTE"),c+=4,b=0;b<m;b++){let r=3*b,n=e.plte[b],i=255&n,s=n>>>8&255,o=n>>>16&255;A[c+r+0]=i,A[c+r+1]=s,A[c+r+2]=o}if(f(A,c+=3*m,l(A,c-3*m-4,3*m+4)),c+=4,g){for(f(A,c,m),h(A,c+=4,"tRNS"),c+=4,b=0;b<m;b++)A[c+b]=e.plte[b]>>>24&255;f(A,c+=m,l(A,c-m-4,m+4)),c+=4}}let y=0;for(w=0;w<e.frames.length;w++){var U=e.frames[w];d&&(f(A,c,26),h(A,c+=4,"fcTL"),f(A,c+=4,y++),f(A,c+=4,U.rect.width),f(A,c+=4,U.rect.height),f(A,c+=4,U.rect.x),f(A,c+=4,U.rect.y),u(A,c+=4,o[w]),u(A,c+=2,1e3),A[c+=2]=U.dispose,A[++c]=U.blend,f(A,++c,l(A,c-30,30)),c+=4);let r=U.cimg;f(A,c,(m=r.length)+4*(0!=w));let n=c+=4;h(A,c,0==w?"IDAT":"fdAT"),c+=4,0!=w&&(f(A,c,y++),c+=4),A.set(r,c),f(A,c+=m,l(A,n,c-n)),c+=4}return f(A,c,0),h(A,c+=4,"IEND"),f(A,c+=4,l(A,c-4,4)),c+=4,A.buffer}function c(e,r,i){for(let s=0;s<e.frames.length;s++){let o=e.frames[s];o.rect.width;let a=o.rect.height,l=new Uint8Array(a*o.bpl+a);o.cimg=function(e,r,i,s,o,a,l){let u=[],h,c=[0,1,2,3,4];-1!=a?c=[a]:(r*s>5e5||1==i)&&(c=[0]),l&&(h={level:0});for(var d=0;d<c.length;d++){for(let a=0;a<r;a++)!function(e,r,i,s,o,a){let l=i*s,f=l+i;if(e[f]=a,f++,0==a)if(s<500)for(var u=0;u<s;u++)e[f+u]=r[l+u];else e.set(new Uint8Array(r.buffer,l,s),f);else if(1==a){for(u=0;u<o;u++)e[f+u]=r[l+u];for(u=o;u<s;u++)e[f+u]=r[l+u]-r[l+u-o]+256&255}else if(0==i){for(u=0;u<o;u++)e[f+u]=r[l+u];if(2==a)for(u=o;u<s;u++)e[f+u]=r[l+u];if(3==a)for(u=o;u<s;u++)e[f+u]=r[l+u]-(r[l+u-o]>>1)+256&255;if(4==a)for(u=o;u<s;u++)e[f+u]=r[l+u]-n(r[l+u-o],0,0)+256&255}else{if(2==a)for(u=0;u<s;u++)e[f+u]=r[l+u]+256-r[l+u-s]&255;if(3==a){for(u=0;u<o;u++)e[f+u]=r[l+u]+256-(r[l+u-s]>>1)&255;for(u=o;u<s;u++)e[f+u]=r[l+u]+256-(r[l+u-s]+r[l+u-o]>>1)&255}if(4==a){for(u=0;u<o;u++)e[f+u]=r[l+u]+256-n(0,r[l+u-s],0)&255;for(u=o;u<s;u++)e[f+u]=r[l+u]+256-n(r[l+u-o],r[l+u-s],r[l+u-o-s])&255}}}(o,e,a,s,i,c[d]);u.push(f.deflate(o,h))}let p,g=1e9;for(d=0;d<u.length;d++)u[d].length<g&&(p=d,g=u[d].length);return u[p]}(o.img,a,o.bpp,o.bpl,l,r,i)}}function d(r,n,i,s,o){let a=o[0],f=o[1],u=o[2],h=o[3],c=o[4],d=o[5],m=6,b=8,w=255;for(var A=0;A<r.length;A++){let e=new Uint8Array(r[A]);for(var v=e.length,y=0;y<v;y+=4)w&=e[y+3]}let U=255!=w,E=function(r,n,i,s,o,a){let l=[];for(var f,u=0;u<r.length;u++){let f=new Uint8Array(r[u]),p=new Uint32Array(f.buffer),_=0,m=0,b=n,w=i,A=+!!s;if(0!=u){let v=a||s||1==u||0!=l[u-2].dispose?1:2,y=0,U=1e9;for(let e=0;e<v;e++){var h,c=new Uint8Array(r[u-1-e]);let s=new Uint32Array(r[u-1-e]),a=n,l=i,f=-1,g=-1;for(let e=0;e<i;e++)for(let r=0;r<n;r++)p[d=e*n+r]!=s[d]&&(r<a&&(a=r),r>f&&(f=r),e<l&&(l=e),e>g&&(g=e));-1==f&&(a=l=f=g=0),o&&(1==(1&a)&&a--,1==(1&l)&&l--);let A=(f-a+1)*(g-l+1);A<U&&(U=A,y=e,_=a,m=l,b=f-a+1,w=g-l+1)}c=new Uint8Array(r[u-1-y]),1==y&&(l[u-1].dispose=2),e(c,n,i,h=new Uint8Array(b*w*4),b,w,-_,-m,0),1==(A=+!!e(f,n,i,h,b,w,-_,-m,3))?g(f,n,i,h,{x:_,y:m,width:b,height:w}):e(f,n,i,h,b,w,-_,-m,0)}else h=f.slice(0);l.push({rect:{x:_,y:m,width:b,height:w},img:h,blend:A,dispose:0})}if(s)for(u=0;u<l.length;u++){if(1==(f=l[u]).blend)continue;let e=f.rect,s=l[u-1].rect,a=Math.min(e.x,s.x),h=Math.min(e.y,s.y),c={x:a,y:h,width:Math.max(e.x+e.width,s.x+s.width)-a,height:Math.max(e.y+e.height,s.y+s.height)-h};l[u-1].dispose=1,u-1!=0&&p(r,n,i,l,u-1,c,o),p(r,n,i,l,u,c,o)}if(1!=r.length)for(var d=0;d<l.length;d++)(f=l[d]).rect.width,f.rect.height;return l}(r,n,i,a,f,u),T={},R=[],x=[];if(0!=s){let e=[];for(y=0;y<E.length;y++)e.push(E[y].img.buffer);let r=_(function(e){let r=0;for(var n=0;n<e.length;n++)r+=e[n].byteLength;let i=new Uint8Array(r),s=0;for(n=0;n<e.length;n++){let r=new Uint8Array(e[n]),o=r.length;for(let e=0;e<o;e+=4){let n=r[e],o=r[e+1],a=r[e+2],l=r[e+3];0==l&&(n=o=a=0),i[s+e]=n,i[s+e+1]=o,i[s+e+2]=a,i[s+e+3]=l}s+=o}return i.buffer}(e),s);for(y=0;y<r.plte.length;y++)R.push(r.plte[y].est.rgba);let n=0;for(y=0;y<E.length;y++){let e=(k=E[y]).img.length;var C=new Uint8Array(r.inds.buffer,n>>2,e>>2);x.push(C);let i=new Uint8Array(r.abuf,n,e);d&&l(k.img,k.rect.width,k.rect.height,R,i,C),k.img.set(i),n+=e}}else for(A=0;A<E.length;A++){var k=E[A];let e=new Uint32Array(k.img.buffer);var F=k.rect.width;for(C=new Uint8Array(v=e.length),x.push(C),y=0;y<v;y++){let r=e[y];if(0!=y&&r==e[y-1])C[y]=C[y-1];else if(y>F&&r==e[y-F])C[y]=C[y-F];else{let e=T[r];if(null==e&&(T[r]=e=R.length,R.push(r),R.length>=300))break;C[y]=e}}}let I=R.length;for(I<=256&&0==c&&(b=Math.max(b=I<=2?1:I<=4?2:I<=16?4:8,h)),A=0;A<E.length;A++){(k=E[A]).rect.x,k.rect.y,F=k.rect.width;let e=k.rect.height,r=k.img;new Uint32Array(r.buffer);let n=4*F,i=4;if(I<=256&&0==c){var O=new Uint8Array((n=Math.ceil(b*F/8))*e);let s=x[A];for(let r=0;r<e;r++){y=r*n;let e=r*F;if(8==b)for(var S=0;S<F;S++)O[y+S]=s[e+S];else if(4==b)for(S=0;S<F;S++)O[y+(S>>1)]|=s[e+S]<<4-4*(1&S);else if(2==b)for(S=0;S<F;S++)O[y+(S>>2)]|=s[e+S]<<6-2*(3&S);else if(1==b)for(S=0;S<F;S++)O[y+(S>>3)]|=s[e+S]<<7-(7&S)}r=O,m=3,i=1}else if(0==U&&1==E.length){O=new Uint8Array(F*e*3);let s=F*e;for(y=0;y<s;y++){let e=3*y,n=4*y;O[e]=r[n],O[e+1]=r[n+1],O[e+2]=r[n+2]}r=O,m=2,i=3,n=3*F}k.img=r,k.bpl=n,k.bpp=i}return{ctype:m,depth:b,plte:R,frames:E}}function p(r,n,i,s,o,a,l){let f=Uint8Array,u=Uint32Array,h=new f(r[o-1]),c=new u(r[o-1]),d=o+1<r.length?new f(r[o+1]):null,p=new f(r[o]),_=new u(p.buffer),m=n,b=i,w=-1,A=-1;for(let e=0;e<a.height;e++)for(let r=0;r<a.width;r++){let i=a.x+r,l=a.y+e,f=l*n+i,u=_[f];0==u||0==s[o-1].dispose&&c[f]==u&&(null==d||0!=d[4*f+3])||(i<m&&(m=i),i>w&&(w=i),l<b&&(b=l),l>A&&(A=l))}-1==w&&(m=b=w=A=0),l&&(1==(1&m)&&m--,1==(1&b)&&b--),a={x:m,y:b,width:w-m+1,height:A-b+1};let v=s[o];v.rect=a,v.blend=1,v.img=new Uint8Array(a.width*a.height*4),0==s[o-1].dispose?(e(h,n,i,v.img,a.width,a.height,-a.x,-a.y,0),g(p,n,i,v.img,a)):e(p,n,i,v.img,a.width,a.height,-a.x,-a.y,0)}function g(r,n,i,s,o){e(r,n,i,s,o.width,o.height,-o.x,-o.y,2)}function _(e,r){let n,i=new Uint8Array(e),s=i.slice(0),o=new Uint32Array(s.buffer),a=m(s,r),l=a[0],f=a[1],u=i.length,h=new Uint8Array(u>>2);if(i.length<2e7)for(var c=0;c<u;c+=4)n=b(l,d=i[c]*(1/255),p=i[c+1]*(1/255),g=i[c+2]*(1/255),_=i[c+3]*(1/255)),h[c>>2]=n.ind,o[c>>2]=n.est.rgba;else for(c=0;c<u;c+=4){var d=i[c]*(1/255),p=i[c+1]*(1/255),g=i[c+2]*(1/255),_=i[c+3]*(1/255);for(n=l;n.left;)n=0>=w(n.est,d,p,g,_)?n.left:n.right;h[c>>2]=n.ind,o[c>>2]=n.est.rgba}return{abuf:s.buffer,inds:h,plte:f}}function m(e,r,n){null==n&&(n=1e-4);let i=new Uint32Array(e.buffer),s={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};s.bst=v(e,s.i0,s.i1),s.est=y(s.bst);let o=[s];for(;o.length<r;){let r=0,s=0;for(var a=0;a<o.length;a++)o[a].est.L>r&&(r=o[a].est.L,s=a);if(r<n)break;let l=o[s],f=function(e,r,n,i,s,o){for(i-=4;n<i;){for(;A(e,n,s)<=o;)n+=4;for(;A(e,i,s)>o;)i-=4;if(n>=i)break;let a=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=a,n+=4,i-=4}for(;A(e,n,s)>o;)n-=4;return n+4}(e,i,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=f||l.i1<=f){l.est.L=0;continue}let u={i0:l.i0,i1:f,bst:null,est:null,tdst:0,left:null,right:null};u.bst=v(e,u.i0,u.i1),u.est=y(u.bst);let h={i0:f,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(a=0,h.bst={R:[],m:[],N:l.bst.N-u.bst.N};a<16;a++)h.bst.R[a]=l.bst.R[a]-u.bst.R[a];for(a=0;a<4;a++)h.bst.m[a]=l.bst.m[a]-u.bst.m[a];h.est=y(h.bst),l.left=u,l.right=h,o[s]=u,o.push(h)}for(o.sort((e,r)=>r.bst.N-e.bst.N),a=0;a<o.length;a++)o[a].ind=a;return[s,o]}function b(e,r,n,i,s){if(null==e.left)return e.tdst=function(e,r,n,i,s){let o=r-e[0],a=n-e[1],l=i-e[2],f=s-e[3];return o*o+a*a+l*l+f*f}(e.est.q,r,n,i,s),e;let o=w(e.est,r,n,i,s),a=e.left,l=e.right;o>0&&(a=e.right,l=e.left);let f=b(a,r,n,i,s);if(f.tdst<=o*o)return f;let u=b(l,r,n,i,s);return u.tdst<f.tdst?u:f}function w(e,r,n,i,s){let{e:o}=e;return o[0]*r+o[1]*n+o[2]*i+o[3]*s-e.eMq}function A(e,r,n){return e[r]*n[0]+e[r+1]*n[1]+e[r+2]*n[2]+e[r+3]*n[3]}function v(e,r,n){let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0];for(let o=r;o<n;o+=4){let r=e[o]*(1/255),n=e[o+1]*(1/255),a=e[o+2]*(1/255),l=e[o+3]*(1/255);s[0]+=r,s[1]+=n,s[2]+=a,s[3]+=l,i[0]+=r*r,i[1]+=r*n,i[2]+=r*a,i[3]+=r*l,i[5]+=n*n,i[6]+=n*a,i[7]+=n*l,i[10]+=a*a,i[11]+=a*l,i[15]+=l*l}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:s,N:n-r>>2}}function y(e){let{R:r}=e,{m:n}=e,{N:i}=e,s=n[0],o=n[1],a=n[2],l=n[3],f=0==i?0:1/i,u=[r[0]-s*s*f,r[1]-s*o*f,r[2]-s*a*f,r[3]-s*l*f,r[4]-o*s*f,r[5]-o*o*f,r[6]-o*a*f,r[7]-o*l*f,r[8]-a*s*f,r[9]-a*o*f,r[10]-a*a*f,r[11]-a*l*f,r[12]-l*s*f,r[13]-l*o*f,r[14]-l*a*f,r[15]-l*l*f],h=[Math.random(),Math.random(),Math.random(),Math.random()],c=0,d=0;if(0!=i)for(let e=0;e<16&&(h=U.multVec(u,h),d=Math.sqrt(U.dot(h,h)),h=U.sml(1/d,h),!(0!=e&&1e-9>Math.abs(d-c)));e++)c=d;let p=[s*f,o*f,a*f,l*f];return{Cov:u,q:p,e:h,L:c,eMq255:U.dot(U.sml(255,p),h),eMq:U.dot(h,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|(0|Math.round(255*p[0])))>>>0}}var U={multVec:(e,r)=>[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]],dot:(e,r)=>e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],sml:(e,r)=>[e*r[0],e*r[1],e*r[2],e*r[3]]};u.encode=function(e,r,n,i,s,o,a){null==i&&(i=0),null==a&&(a=!1);let l=d(e,r,n,i,[!1,!1,!1,0,a,!1]);return c(l,-1),h(l,r,n,s,o)},u.encodeLL=function(e,r,n,i,s,o,a,l){let f={ctype:0+2*(1!=i)+4*(0!=s),depth:o,frames:[]},u=(i+s)*o,d=u*r;for(let i=0;i<e.length;i++)f.frames.push({rect:{x:0,y:0,width:r,height:n},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(d/8)});return c(f,0,!0),h(f,r,n,a,l)},u.encode.compress=d,u.encode.dither=l,u.quantize=_,u.quantize.getKDtree=m,u.quantize.getNearest=b}();let h={toArrayBuffer(e,r){let n=e.width,i=e.height,s=n<<2,o=new Uint32Array(e.getContext("2d").getImageData(0,0,n,i).data.buffer),a=(32*n+31)/32<<2,l=a*i,f=122+l,u=new ArrayBuffer(f),c=new DataView(u),d,p,g,_,m=1048576,b=0,w=0,A=0;function v(e){c.setUint16(w,e,!0),w+=2}function y(e){c.setUint32(w,e,!0),w+=4}v(19778),y(f),w+=4,y(122),y(108),y(n),y(-i>>>0),v(1),v(32),y(3),y(l),y(2835),y(2835),w+=8,y(0xff0000),y(65280),y(255),y(0xff000000),y(0x57696e20),function e(){for(;b<i&&m>0;){for(_=122+b*a,d=0;d<s;)m--,g=(p=o[A++])>>>24,c.setUint32(_+d,p<<8|g),d+=4;b++}A<o.length?(m=1048576,setTimeout(e,h._dly)):r(u)}()},toBlob(e,r){this.toArrayBuffer(e,e=>{r(new Blob([e],{type:"image/bmp"}))})},_dly:9};var c={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},d={[c.CHROME]:16384,[c.FIREFOX]:11180,[c.DESKTOP_SAFARI]:16384,[c.IE]:8192,[c.IOS]:4096,[c.ETC]:8192};let p="undefined"!=typeof window,g="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,_=p&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),m=(p||g)&&(_&&_.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),b=(p||g)&&(_&&_.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function w(e,r,n=Date.now()){return new Promise(i=>{let s=e.split(","),o=s[0].match(/:(.*?);/)[1],a=globalThis.atob(s[1]),l=a.length,f=new Uint8Array(l);for(;l--;)f[l]=a.charCodeAt(l);let u=new Blob([f],{type:o});u.name=r,u.lastModified=n,i(u)})}function A(e){return new Promise((r,n)=>{let i=new b;i.onload=()=>r(i.result),i.onerror=e=>n(e),i.readAsDataURL(e)})}function v(e){return new Promise((r,n)=>{let i=new Image;i.onload=()=>r(i),i.onerror=e=>n(e),i.src=e})}function y(){if(void 0!==y.cachedResult)return y.cachedResult;let e=c.ETC,{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?e=c.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?e=c.IOS:/Safari/i.test(r)?e=c.DESKTOP_SAFARI:/Firefox/i.test(r)?e=c.FIREFOX:(/MSIE/i.test(r)||!0==!!document.documentMode)&&(e=c.IE),y.cachedResult=e,y.cachedResult}function U(e,r){let n=d[y()],i=e,s=r,o=i*s,a=i>s?s/i:i/s;for(;o>n*n;){let e=(n+i)/2,r=(n+s)/2;e<r?(s=r,i=r*a):(s=e*a,i=e),o=i*s}return{width:i,height:s}}function E(e,r){let n,i;try{if(i=(n=new OffscreenCanvas(e,r)).getContext("2d"),null===i)throw Error("getContext of OffscreenCanvas returns null")}catch(e){i=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=r,[n,i]}function T(e,r){let{width:n,height:i}=U(e.width,e.height),[s,o]=E(n,i);return r&&/jpe?g/.test(r)&&(o.fillStyle="white",o.fillRect(0,0,s.width,s.height)),o.drawImage(e,0,0,s.width,s.height),s}function R(){return void 0!==R.cachedResult||(R.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),R.cachedResult}function x(e,r={}){return new Promise(function(n,i){let s,o;var a=function(){try{return o=T(s,r.fileType||e.type),n([s,o])}catch(e){return i(e)}},l=function(r){try{var n=function(e){try{throw e}catch(e){return i(e)}};try{let r;return A(e).then(function(e){try{return r=e,v(r).then(function(e){try{return s=e,function(){try{return a()}catch(e){return i(e)}}()}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){n(e)}}catch(e){return i(e)}};try{if(R()||[c.DESKTOP_SAFARI,c.MOBILE_SAFARI].includes(y()))throw Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return s=e,a()}catch(e){return l()}},l)}catch(e){l()}})}function C(e,r,n,i,s=1){return new Promise(function(o,a){let l;if("image/png"===r){let o,a;return o=e.getContext("2d"),{data:a}=o.getImageData(0,0,e.width,e.height),(l=new Blob([u.encode([a.buffer],e.width,e.height,4096*s)],{type:r})).name=n,l.lastModified=i,d.call(this)}if("image/bmp"===r)return new Promise(r=>h.toBlob(e,r)).then((function(e){try{return(l=e).name=n,l.lastModified=i,c.call(this)}catch(e){return a(e)}}).bind(this),a);if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:r,quality:s}).then((function(e){try{return(l=e).name=n,l.lastModified=i,f.call(this)}catch(e){return a(e)}}).bind(this),a);return w(e.toDataURL(r,s),n,i).then((function(e){try{return l=e,f.call(this)}catch(e){return a(e)}}).bind(this),a);function f(){return c.call(this)}function c(){return d.call(this)}function d(){return o(l)}})}function k(e){e.width=0,e.height=0}function F(){return new Promise(function(e,r){let n,i,s,o;return void 0!==F.cachedResult?e(F.cachedResult):w("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,x(n).then(function(a){try{return i=a[1],C(i,n.type,n.name,n.lastModified).then(function(n){try{return s=n,k(i),x(s).then(function(n){try{return o=n[0],F.cachedResult=1===o.width&&2===o.height,e(F.cachedResult)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)})}function I(e){return new Promise((r,n)=>{let i=new b;i.onload=e=>{let n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return r(-2);let i=n.byteLength,s=2;for(;s<i&&!(8>=n.getUint16(s+2,!1));){let e=n.getUint16(s,!1);if(s+=2,65505==e){if(0x45786966!=n.getUint32(s+=2,!1))return r(-1);let e=18761==n.getUint16(s+=6,!1);s+=n.getUint32(s+4,e);let i=n.getUint16(s,e);s+=2;for(let o=0;o<i;o++)if(274==n.getUint16(s+12*o,e))return r(n.getUint16(s+12*o+8,e))}else{if(65280!=(65280&e))break;s+=n.getUint16(s,!1)}}return r(-1)},i.onerror=e=>n(e),i.readAsArrayBuffer(e)})}function O(e,r){let{width:n}=e,{height:i}=e,{maxWidthOrHeight:s}=r,o,a=e;return isFinite(s)&&(n>s||i>s)&&([a,o]=E(n,i),n>i?(a.width=s,a.height=i/n*s):(a.width=n/i*s,a.height=s),o.drawImage(e,0,0,a.width,a.height),k(e)),a}function S(e,r){let{width:n}=e,{height:i}=e,[s,o]=E(n,i);switch(r>4&&r<9?(s.width=i,s.height=n):(s.width=n,s.height=i),r){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,i);break;case 4:o.transform(1,0,0,-1,0,i);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i,0);break;case 7:o.transform(0,-1,-1,0,i,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(e,0,0,n,i),k(e),s}function B(e,r,n=0){return new Promise(function(i,s){let o,a,l,f,u,h,c,d,p,g,_,m,b,w,A,v,y,U,T,R;function B(e=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;o+=e,r.onProgress(Math.min(o,100))}function N(e){if(r.signal&&r.signal.aborted)throw r.signal.reason;o=Math.min(Math.max(e,o),100),r.onProgress(o)}return o=n,a=r.maxIteration||10,l=1024*r.maxSizeMB*1024,B(),x(e,r).then((function(n){try{return[,f]=n,B(),u=O(f,r),B(),new Promise(function(n,i){var s;if(!(s=r.exifOrientation))return I(e).then((function(e){try{return s=e,o.call(this)}catch(e){return i(e)}}).bind(this),i);function o(){return n(s)}return o.call(this)}).then((function(n){try{return h=n,B(),F().then((function(n){try{return c=n?u:S(u,h),B(),d=r.initialQuality||1,p=r.fileType||e.type,C(c,p,e.name,e.lastModified,d).then((function(n){try{var o;if(g=n,B(),_=g.size>l,m=g.size>e.size,!_&&!m)return N(100),i(g);function h(){if(a--&&(A>l||A>b)){let r,n;return r=R?.95*T.width:T.width,n=R?.95*T.height:T.height,[y,U]=E(r,n),U.drawImage(T,0,0,r,n),d*="image/png"===p?.85:.95,C(y,p,e.name,e.lastModified,d).then(function(e){try{return v=e,k(T),T=y,A=v.size,N(Math.min(99,Math.floor((w-A)/(w-l)*100))),h}catch(e){return s(e)}},s)}return[1]}return b=e.size,A=w=g.size,T=c,R=!r.alwaysKeepResolution&&_,(o=(function(e){for(;e;){if(e.then)return void e.then(o,s);try{if(e.pop){if(e.length)return e.pop()?x.call(this):e;e=h}else e=e.call(this)}catch(e){return s(e)}}}).bind(this))(h);function x(){return k(T),k(y),k(u),k(c),k(f),N(100),i(v)}}catch(e){return s(e)}}).bind(this),s)}catch(e){return s(e)}}).bind(this),s)}catch(e){return s(e)}}).bind(this),s)}catch(e){return s(e)}}).bind(this),s)})}function N(e,r){return new Promise(function(n,o){let a,l,f,u,h,c;if(a={...r},f=0,{onProgress:u}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,h="boolean"!=typeof a.useWebWorker||a.useWebWorker,delete a.useWebWorker,a.onProgress=e=>{f=e,"function"==typeof u&&u(f)},!(e instanceof Blob||e instanceof m))return o(Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(Error("The file given is not an image"));if(c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!h||"function"!=typeof Worker||c)return B(e,a).then((function(e){try{return l=e,g.call(this)}catch(e){return o(e)}}).bind(this),o);var d=(function(){try{return g.call(this)}catch(e){return o(e)}}).bind(this),p=function(r){try{return B(e,a).then(function(e){try{return l=e,d()}catch(e){return o(e)}},o)}catch(e){return o(e)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",new Promise((r,n)=>{i||(i=function(e){let r=[];return"function"==typeof e?r.push(`(${e})()`):r.push(e),URL.createObjectURL(new Blob(r))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));let s=new Worker(i);s.addEventListener("message",function(e){if(a.signal&&a.signal.aborted)s.terminate();else if(void 0===e.data.progress){if(e.data.error)return n(Error(e.data.error)),void s.terminate();r(e.data.file),s.terminate()}else a.onProgress(e.data.progress)}),s.addEventListener("error",n),a.signal&&a.signal.addEventListener("abort",()=>{n(a.signal.reason),s.terminate()}),s.postMessage({file:e,imageCompressionLibUrl:a.libURL,options:{...a,onProgress:void 0,signal:void 0}})}).then(function(e){try{return l=e,d()}catch(e){return p()}},p)}catch(e){p()}function g(){try{l.name=e.name,l.lastModified=e.lastModified}catch(e){}try{a.preserveExif&&"image/jpeg"===e.type&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(l=s(e,l))}catch(e){}return n(l)}})}N.getDataUrlFromFile=A,N.getFilefromDataUrl=w,N.loadImage=v,N.drawImageInCanvas=T,N.drawFileInCanvas=x,N.canvasToFile=C,N.getExifOrientation=I,N.handleMaxWidthOrHeight=O,N.followExifOrientation=S,N.cleanupCanvasMemory=k,N.isAutoOrientationInBrowser=F,N.approximateBelowMaximumCanvasSizeOfBrowser=U,N.copyExifWithoutOrientation=s,N.getBrowserName=y,N.version="2.0.2"}}]);