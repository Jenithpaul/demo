"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{87:(e,r,t)=>{t.d(r,{default:()=>x});var a=t(5155),o=t(2115),l=t(6874),s=t.n(l),n=t(5695),i=t(3072),d=t(3761);let c=function(e){let{isOpen:r,onClose:t,user:l,logout:n}=e,i=(0,o.useRef)(null);if((0,o.useEffect)(()=>{let e=e=>{i.current&&!i.current.contains(e.target)&&t()};return r&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[r,t]),!r)return null;let d=async()=>{try{await n(),t()}catch(e){console.error("Logout error:",e)}},c=(null==l?void 0:l.email)==="jenithpaul66@gmail.com";return(0,a.jsx)("div",{ref:i,className:"absolute right-0 top-full mt-2 w-56 bg-white border-2 border-gray-200 rounded-2xl shadow-2xl z-50 overflow-hidden animate-slideDown",children:(0,a.jsxs)("div",{className:"py-2",children:[l&&(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-black",children:l.displayName||l.email}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:l.email})]}),(0,a.jsxs)(s(),{href:"/contact",className:"flex items-center px-4 py-3 text-black hover:bg-gray-100 transition-all duration-200 group transform hover:translate-x-1",onClick:t,children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-3 text-gray-600 group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Us"]}),(0,a.jsxs)(s(),{href:"/orders",className:"flex items-center px-4 py-3 text-black hover:bg-gray-100 transition-all duration-200 group transform hover:translate-x-1",onClick:t,children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-3 text-gray-600 group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Order History"]}),c&&(0,a.jsxs)(s(),{href:"/admin",className:"flex items-center px-4 py-3 text-black hover:bg-gray-100 transition-all duration-200 group transform hover:translate-x-1",onClick:t,children:[(0,a.jsxs)("svg",{className:"w-5 h-5 mr-3 text-gray-600 group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Admin Dashboard"]}),(0,a.jsxs)("button",{onClick:d,className:"flex items-center w-full px-4 py-3 text-black hover:bg-gray-100 transition-all duration-200 group transform hover:translate-x-1",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-3 text-gray-600 group-hover:text-black transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})})};var u=t(5317),h=t(7227);function m(e){let{open:r,onClose:t}=e,[l,s]=(0,o.useState)({firstName:"",lastName:"",companyName:"",mobile:"",email:"",phone:"",address1:"",address2:"",city:"",state:"",pincode:"",country:"",queryType:"General",message:"",file:null}),[n,i]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),[m,x]=(0,o.useState)({}),g=(0,u.aU)(h.A),p=()=>{let e={};return l.firstName.trim()||(e.firstName="First name is required"),l.lastName.trim()||(e.lastName="Last name is required"),l.mobile.trim()||(e.mobile="Mobile number is required"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(e.email="Please enter a valid email address"):e.email="Email is required",x(e),0===Object.keys(e).length},f=e=>{let{name:r,value:t,files:a}=e.target;"file"===r?s(e=>({...e,file:a[0]})):(s(e=>({...e,[r]:t})),m[r]&&x(e=>({...e,[r]:null})))},b=async e=>{if(e.preventDefault(),p()){i(!0);try{let e={...l,file:l.file?l.file.name:"",createdAt:(0,u.O5)()};await (0,u.gS)((0,u.rJ)(g,"enquiries"),e),c(!0),s({firstName:"",lastName:"",companyName:"",mobile:"",email:"",phone:"",address1:"",address2:"",city:"",state:"",pincode:"",country:"",queryType:"General",message:"",file:null})}catch(e){alert("Failed to submit enquiry. Please try again.")}i(!1)}};return r?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm overflow-auto",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-white via-gray-900 to-gray-800/90 backdrop-blur-xl rounded-3xl shadow-2xl p-8 w-full max-w-3xl border border-white/10 relative max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-white-400 hover:text-red-400 text-3xl font-bold transition","aria-label":"Close",children:"\xd7"}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-6 text-center bg-gradient-to-r from-white via-white-200 to-white-400 bg-clip-text text-transparent",children:"Get Your Quote Today"}),d&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-green-900/40 border border-green-500/30 rounded-xl text-green-200 font-semibold text-center",children:"Quote request submitted successfully! We'll get back to you soon."}),(0,a.jsxs)("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{name:"firstName",value:l.firstName,onChange:f,required:!0,placeholder:"First Name *",className:"bg-black/30 text-white border-2 ".concat(m.firstName?"border-red-500":"border-gray-700"," rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all w-full")}),m.firstName&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.firstName})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{name:"lastName",value:l.lastName,onChange:f,required:!0,placeholder:"Last Name *",className:"bg-black/30 text-white border-2 ".concat(m.lastName?"border-red-500":"border-gray-700"," rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all w-full")}),m.lastName&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.lastName})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{name:"mobile",value:l.mobile,onChange:f,required:!0,placeholder:"Mobile Number *",className:"bg-black/30 text-white border-2 ".concat(m.mobile?"border-red-500":"border-gray-700"," rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all w-full")}),m.mobile&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.mobile})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{name:"email",value:l.email,onChange:f,required:!0,placeholder:"Email Address *",className:"bg-black/30 text-white border-2 ".concat(m.email?"border-red-500":"border-gray-700"," rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all w-full")}),m.email&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),(0,a.jsx)("input",{name:"companyName",value:l.companyName,onChange:f,placeholder:"Company Name",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all"}),(0,a.jsx)("input",{name:"phone",value:l.phone,onChange:f,placeholder:"Alternative Phone",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all"}),(0,a.jsx)("input",{name:"address1",value:l.address1,onChange:f,placeholder:"Address Line 1",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all"}),(0,a.jsx)("input",{name:"address2",value:l.address2,onChange:f,placeholder:"Address Line 2",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all"}),(0,a.jsx)("input",{name:"city",value:l.city,onChange:f,placeholder:"City",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all"}),(0,a.jsx)("input",{name:"state",value:l.state,onChange:f,placeholder:"State",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all"}),(0,a.jsx)("input",{name:"pincode",value:l.pincode,onChange:f,placeholder:"Pincode",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all"}),(0,a.jsx)("input",{name:"country",value:l.country,onChange:f,placeholder:"Country",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all"}),(0,a.jsxs)("select",{name:"queryType",value:l.queryType,onChange:f,className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 md:col-span-2 focus:border-gray-400 focus:outline-none transition-all",children:[(0,a.jsx)("option",{value:"General",children:"General Inquiry"}),(0,a.jsx)("option",{value:"Quotation",children:"Request Quote"}),(0,a.jsx)("option",{value:"Support",children:"Technical Support"})]}),(0,a.jsx)("textarea",{name:"message",value:l.message,onChange:f,required:!0,placeholder:"Please describe your requirements in detail *",className:"bg-black/30 text-white border-2 border-gray-700 rounded-2xl px-4 py-3 md:col-span-2 placeholder-gray-400 focus:border-gray-400 focus:outline-none transition-all resize-none",rows:4}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Attach Files (Optional)"}),(0,a.jsx)("input",{name:"file",type:"file",onChange:f,className:"w-full text-white file:bg-gradient-to-r file:from-gray-800 file:to-gray-700 file:text-white file:rounded-lg file:px-4 file:py-2 file:border-0 file:mr-4"})]}),(0,a.jsx)("button",{type:"submit",disabled:n,className:"bg-gradient-to-r from-gray-800 to-black hover:from-gray-700 hover:to-gray-900 text-white font-bold rounded-2xl px-8 py-4 mt-2 md:col-span-2 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl border border-gray-600 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Submitting...":"SUBMIT QUOTE REQUEST"})]})]})}):null}let x=function(){let{cart:e}=(0,i._)(),[r,t]=(0,o.useState)(!1),[l,u]=(0,o.useState)(!1),[h,x]=(0,o.useState)(""),[g,p]=(0,o.useState)(!1),[f,b]=(0,o.useState)(!1),{user:y,logout:v}=(0,d.A)(),w=(0,n.useRouter)();(0,o.useEffect)(()=>{let e=()=>{u(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let N=e.reduce((e,r)=>e+(r.qty||1),0);return(0,a.jsxs)("header",{className:"sticky top-0 z-50 transition-all duration-500 ".concat(l?"bg-black text-white border-b border-gray-800 shadow-2xl":"bg-black text-white shadow-xl"),children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between py-4 px-4 md:px-8",children:[(0,a.jsxs)(s(),{href:"/",className:"flex items-center space-x-3 group",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-white/10 rounded-full blur-lg group-hover:bg-white/20 transition-all duration-300 animate-pulse"}),(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-white to-gray-300 rounded-full flex items-center justify-center transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12 relative z-10",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})})})]}),(0,a.jsxs)("div",{className:"hidden sm:block",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-white drop-shadow-lg group-hover:text-gray-200 transition-colors duration-300",children:"Electric Solutions"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{className:"block text-sm text-gray-300 -mt-1 group-hover:text-gray-400 transition-colors duration-300",children:"Power & Technology"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]})]})]}),(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),h.trim()&&console.log("Searching for: ".concat(h))},className:"flex-1 mx-6 max-w-2xl hidden lg:flex relative group",children:(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"Search electrical products & solutions...",className:"w-full px-6 py-3 rounded-2xl bg-white text-black border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-white focus:border-white transition-all duration-300 shadow-inner placeholder-gray-500 hover:border-gray-400 group-hover:shadow-lg"}),(0,a.jsx)("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-4 py-2 bg-black text-white rounded-xl hover:bg-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 hover:scale-105",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35M11 19a8 8 0 100-16 8 8 0 000 16z"})})})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(s(),{href:"/cart",className:"relative group p-3 rounded-2xl bg-white text-black hover:bg-gray-100 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105","aria-label":"Cart",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 transition-colors",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35-5.4M7 13l-1.35-5.4M17 13a2 2 0 11-4 0 2 2 0 014 0zM7 13a2 2 0 11-4 0 2 2 0 014 0z"})}),N>0&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-semibold shadow-lg animate-bounce",children:N>99?"99+":N})]}),y?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{"aria-label":"Profile",className:"group flex items-center space-x-2 px-4 py-3 rounded-2xl bg-white text-black hover:bg-gray-100 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",onClick:()=>p(!g),children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center text-white text-sm font-bold",children:y.displayName?y.displayName.charAt(0).toUpperCase():y.email.charAt(0).toUpperCase()}),(0,a.jsx)("span",{className:"hidden sm:inline font-medium",children:"Profile"}),(0,a.jsx)("svg",{className:"w-4 h-4 transition-transform duration-300 ".concat(g?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,a.jsx)(c,{isOpen:g,onClose:()=>p(!1),user:y,logout:v})]}):(0,a.jsxs)("button",{"aria-label":"Login",className:"group flex items-center space-x-2 px-4 py-3 rounded-2xl bg-white text-black hover:bg-gray-100 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",onClick:()=>w.push("/login"),children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7"})}),(0,a.jsx)("span",{className:"hidden sm:inline font-medium",children:"Login"})]})]})]}),(0,a.jsx)("nav",{className:"bg-gray-900 text-white shadow-inner border-t border-gray-700 ".concat(r?"block":"hidden md:block"),children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row md:justify-center items-center px-4 md:px-8",children:[(0,a.jsxs)(s(),{href:"/",className:"relative group py-4 px-6 font-semibold transition-all duration-300 hover:bg-white/10 rounded-lg transform hover:scale-105",children:[(0,a.jsx)("span",{className:"relative z-10 group-hover:text-gray-200",children:"Home"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full group-hover:left-0"})]}),(0,a.jsxs)(s(),{href:"/about",className:"relative group py-4 px-6 font-semibold transition-all duration-300 hover:bg-white/10 rounded-lg transform hover:scale-105",children:[(0,a.jsx)("span",{className:"relative z-10 group-hover:text-gray-200",children:"About Us"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full group-hover:left-0"})]}),(0,a.jsxs)(s(),{href:"/contact",className:"relative group py-4 px-6 font-semibold transition-all duration-300 hover:bg-white/10 rounded-lg transform hover:scale-105",children:[(0,a.jsx)("span",{className:"relative z-10 group-hover:text-gray-200",children:"Contact Us"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full group-hover:left-0"})]}),(0,a.jsxs)(s(),{href:"/products",className:"relative group py-4 px-6 font-semibold transition-all duration-300 hover:bg-white/10 rounded-lg transform hover:scale-105",children:[(0,a.jsx)("span",{className:"relative z-10 group-hover:text-gray-200",children:"Products"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full group-hover:left-0"})]}),(0,a.jsxs)("button",{onClick:()=>b(!0),className:"relative group py-4 px-6 font-semibold transition-all duration-300 hover:bg-white/10 rounded-lg transform hover:scale-105",children:[(0,a.jsx)("span",{className:"relative z-10 group-hover:text-gray-200",children:"Get Quotation"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full group-hover:left-0"})]}),(0,a.jsxs)(s(),{href:"/catalog",className:"relative group py-4 px-6 font-semibold transition-all duration-300 hover:bg-white/10 rounded-lg transform hover:scale-105",children:[(0,a.jsx)("span",{className:"relative z-10 group-hover:text-gray-200",children:"E-Catalog"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-1/2 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full group-hover:left-0"})]})]})}),(0,a.jsx)(m,{open:f,onClose:()=>b(!1)})]})}},3072:(e,r,t)=>{t.d(r,{CartProvider:()=>d,_:()=>c});var a=t(5155),o=t(2115),l=t(6203),s=t(5317),n=t(7227);let i=(0,o.createContext)();function d(e){let{children:r}=e,[t,d]=(0,o.useState)(()=>{{let e=localStorage.getItem("cart");if(e)try{return JSON.parse(e)}catch(e){}}return[]}),[c,u]=(0,o.useState)(null),h=(0,o.useRef)(!1),m=(0,o.useRef)(null);function x(){d([])}(0,o.useEffect)(()=>{let e=(0,l.xI)(n.A).onAuthStateChanged(e=>{if(u(e?e.uid:null),!e){let e=localStorage.getItem("cart");e?d(JSON.parse(e)):d([])}});return()=>e()},[]),(0,o.useEffect)(()=>{if(!c)return;let e=(0,s.aU)(n.A),r=(0,s.H9)(e,"carts",c),t=(0,s.aQ)(r,e=>{if(e.exists())h.current=!0,m.current=JSON.stringify(e.data().cart||[]),d(e.data().cart||[]);else{let e=localStorage.getItem("cart");e&&JSON.parse(e).length>0?((0,s.BN)(r,{cart:JSON.parse(e)},{merge:!0}),d(JSON.parse(e))):(h.current=!0,m.current=JSON.stringify([]),d([]))}});return()=>t()},[c]),(0,o.useEffect)(()=>{if(c){if(h.current){h.current=!1;return}if(JSON.stringify(t)===m.current)return;let e=(0,s.aU)(n.A);(0,s.BN)((0,s.H9)(e,"carts",c),{cart:t},{merge:!0})}else localStorage.setItem("cart",JSON.stringify(t))},[t,c]),(0,o.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);let g=async e=>{if(!c)return;let r=(0,s.aU)(n.A),a={items:t,...e,createdAt:new Date().toISOString()};await (0,s.mZ)((0,s.H9)(r,"orders",c),{history:(0,s.hq)(a)}).catch(async e=>{await (0,s.BN)((0,s.H9)(r,"orders",c),{history:[a]})}),x()};return(0,a.jsx)(i.Provider,{value:{cart:t,setCart:d,addToCart:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;d(t=>-1!==t.findIndex(r=>r.id===e.id)?t.map(t=>t.id===e.id?{...t,qty:(t.qty||1)+(e.qty||r)}:t):[...t,{...e,qty:e.qty||r}])},removeFromCart:function(e){d(r=>r.filter(r=>r.id!==e))},updateCartQty:function(e,r){d(t=>t.map(t=>t.id===e?{...t,qty:r}:t))},clearCart:x,placeOrder:g},children:r})}function c(){return(0,o.useContext)(i)}},3761:(e,r,t)=>{t.d(r,{A:()=>h,AuthProvider:()=>u,O:()=>m});var a=t(5155),o=t(2115),l=t(5695),s=t(5317),n=t(6203),i=t(7227);let d=(0,o.createContext)(),c=["jenithpaul66@gmail.com","rakeshchoudhary6321@gmail.com"];function u(e){let{children:r}=e,[t,u]=(0,o.useState)(null),[h,m]=(0,o.useState)(!0),x=(0,l.useRouter)(),g=(0,s.aU)(i.A),p=(0,n.xI)(i.A),f=async()=>{try{let e=(0,s.rJ)(g,"adminUsers"),r=(0,s.P)(e);if((await (0,s.GG)(r)).empty){for(let r of c)await (0,s.gS)(e,{email:r});console.log("Admin users initialized")}}catch(e){console.error("Error initializing admin users:",e)}};(0,o.useEffect)(()=>{f();let e=p.onAuthStateChanged(async e=>{if(e){let r=await b(e.email),t={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,role:r?"admin":"user"};u(t),localStorage.setItem("user",JSON.stringify(t)),r||x.push("/")}else u(null),localStorage.removeItem("user");m(!1)});return()=>e()},[]);let b=async e=>{try{if(c.includes(e))return!0;let r=(0,s.rJ)(g,"adminUsers"),t=(0,s.P)(r,(0,s._M)("email","==",e));return!(await (0,s.GG)(t)).empty}catch(e){return console.error("Error checking admin access:",e),!1}},y=async(e,r)=>{try{if(await b(e)){let r={email:e,displayName:"Admin User",role:"admin"};return u(r),localStorage.setItem("user",JSON.stringify(r)),x.push("/admin"),!0}return!1}catch(e){return console.error("Login error:",e),!1}},v=async()=>{try{let e=new n.HF,r=await (0,n.df)(p,e);if(!await b(r.user.email))return await (0,n.CI)(p),u(null),localStorage.removeItem("user"),!1;{let e={uid:r.user.uid,email:r.user.email,displayName:r.user.displayName,photoURL:r.user.photoURL,role:"admin"};return u(e),localStorage.setItem("user",JSON.stringify(e)),x.push("/admin"),!0}}catch(e){return console.error("Google login error:",e),!1}},w=async()=>{try{await (0,n.CI)(p),u(null),localStorage.removeItem("user"),x.push("/")}catch(e){console.error("Logout error:",e)}};return(0,a.jsx)(d.Provider,{value:{user:t,setUser:u,login:y,loginWithGoogle:v,logout:w,loading:h},children:!h&&r})}function h(){let e=(0,o.useContext)(d);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function m(e){let{children:r}=e,{user:t,loading:s}=h(),n=(0,l.useRouter)();return((0,o.useEffect)(()=>{s||t&&"admin"===t.role||n.push("/login")},[t,s,n]),s)?(0,a.jsx)("div",{children:"Loading..."}):t&&"admin"===t.role?r:null}},7227:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(3915).Wp)({apiKey:"AIzaSyCvcy_H0WmnKLnTPMnl_gcX96IArDjUvG8",authDomain:"wood-ply-5467f.firebaseapp.com",projectId:"wood-ply-5467f",storageBucket:"wood-ply-5467f.appspot.com",messagingSenderId:"11936944340",appId:"1:11936944340:web:d723588893d69d5dfb2b41"})}}]);